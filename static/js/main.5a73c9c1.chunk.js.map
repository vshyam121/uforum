{"version":3,"sources":["images/uforum.png","axiosAPI.js","store/auth/actions.js","store/auth/actionTypes.js","components/Theme/DropDownMenu/DropDownMenu.js","components/Layout/Header/Header.js","components/Layout/NavigationBar/NavigationBar.js","components/Layout/Layout.js","containers/LayoutContainer.js","store/feeds/actions.js","store/feeds/actionTypes.js","store/thread/actions.js","store/thread/actionTypes.js","components/Tag/Tag.js","components/ForumFeed/ThreadBox/ThreadBox.js","components/ForumFeed/FeedBox/FeedBox.js","components/Theme/Button/Button.js","components/ForumFeed/ForumFeed.js","containers/ForumFeedContainer.js","components/RichTextEditor/StyleButton/StyleButton.js","components/RichTextEditor/InlineStyleControls.js","components/RichTextEditor/BlockStyleControls.js","components/RichTextEditor/RichTextEditor.js","components/Thread/ReplyEditor/ReplyEditor.js","components/Thread/InitialPost/InitialPost.js","components/Thread/Reply/Reply.js","components/Thread/Replies/Replies.js","components/Thread/Thread.js","containers/ThreadContainer.js","components/Theme/Input/Input.js","utils/formValidation.js","components/Theme/Form/Form.js","components/Forms/SignIn/SignIn.js","containers/SignInContainer.js","components/Forms/SignUp/SignUp.js","containers/SignUpContainer.js","components/NewThread/AddTags/AddTags.js","components/NewThread/NewThread.js","containers/NewThreadContainer.js","components/UserProfile/UserProfile.js","containers/UserProfileContainer.js","components/Forms/CreateForum/CreateForum.js","containers/CreateForumContainer.js","components/AdminDashboard/AdminDashboard.js","containers/AdminDashboardContainer.js","App.js","serviceWorker.js","store/auth/reducer.js","store/feeds/reducer.js","store/thread/reducer.js","store/rootReducer.js","store/store.js","hoc/ScrollToTop.js","index.js"],"names":["module","exports","instance","axios","create","baseURL","process","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","response","error","Promise","reject","authReset","type","authSuccess","authData","dispatch","setItem","user","checkAuthTimeout","expires","signInFailed","signUpFailed","signOut","removeItem","history","push","pathname","fromSignOut","expirationTime","timeToExpire","Date","getTime","setTimeout","DropDownMenu","props","classNames","show","className","join","children","map","child","index","key","Header","showMenu","handleClickDashboard","handleClickSignOut","handleClickUserProfile","handleMenuToggle","userInfo","to","dashboard","role","onClick","username","src","UForumLogo","alt","PropTypes","NavigationBar","forums","array","isRequired","forumSlug","string","gettingForums","forum","linkClassNames","slug","name","Layout","getForumsError","connect","state","auth","feeds","withRouter","useState","setShowMenu","useLocation","prevShowMenu","createForumFailed","err","data","includes","message","getAllForumsFailed","deleteForumFailed","getUnpinnedThreadsFailed","getPinnedThreadsFailed","getUserThreadsFailed","getUserProfileFailed","createThreadFailed","getThreadFailed","setDeleteThreadFailed","createReplyFailed","getReplies","threadId","get","then","res","replies","getRepliesFailed","catch","deleteReplyFailed","favoriteThreadFailed","unfavoriteThreadFailed","setThreadPinnedStatusFailed","setCurrentThread","currentThread","Tag","deleteTag","delete","ThreadBox","tags","hideUser","thread","tag","title","Moment","createdAt","fromNow","favorites","length","FeedBox","threads","gettingThreads","handleGetThreads","sortingMethod","setSortingMethod","sort","handleSortingMethod","threadBoxes","size","_id","sortContent","sortDateClassNames","sortPopularityClassNames","Button","disabled","ForumFeed","forumFound","unpinnedThreads","gettingUnpinnedThreads","getUnpinnedThreadsError","pinnedThreads","gettingPinnedThreads","getPinnedThreadsError","forumFeedBoxContent","Fragment","forumFeedContent","getUnpinnedThreads","forumId","url","getPinnedThreads","currentForumSlug","useParams","setForumFound","setForumSlug","setForumId","useEffect","find","StyleButton","active","onMouseDown","e","preventDefault","onToggle","style","label","INLINE_STYLES","InlineStyleControls","currentStyle","editorState","getCurrentInlineStyle","has","BLOCK_TYPES","BlockStyleControls","selection","getSelection","blockType","getCurrentContent","getBlockForKey","getStartKey","getType","RichEditor","readOnly","content","initialContent","EditorState","createWithContent","convertFromRaw","JSON","parse","createEmpty","setEditorState","contentHasChanged","setContentHasChanged","onChange","newEditorState","editor","useRef","styleControls","inlineStyle","RichUtils","toggleInlineStyle","blockStyle","toggleBlockType","editorClassNames","buttonContent","button","saveContent","stringify","convertToRaw","current","focus","customStyleMap","MONOSPACE","fontFamily","keyBindingFn","keyCode","currentState","newContentState","Modifier","replaceText","getDefaultKeyBinding","blockStyleFn","contentBlock","handleKeyCommand","command","newState","placeholder","ref","ReplyEditor","loadingUser","creatingReply","noReplyError","createReplyError","replyContent","handleSaveReplyContent","handleFavoriteThread","handleUnfavoriteThread","handleDeleteThread","handleSetPinnedStatus","deletingThread","togglingFavorite","togglingPin","post","favorite","deleteThreadContent","pinThreadContent","pinAction","pinned","Reply","reply","handleDeleteReply","deletingReplyId","deleteReplyError","deleteReply","Replies","gettingReplies","repliesContent","replyError","Thread","threadContent","gettingThread","getThreadError","toggleFavoriteError","togglePinError","deleteThreadError","getThread","threadSlug","createReply","favoriteThread","userId","unfavoriteThread","deleteThread","success","replyId","deletedReplyId","setThreadPinnedStatus","pinnedStatus","patch","resetThreadErrors","React","memo","deletingReply","previousThread","value","usePrevious","setNoReplyError","Input","inputElement","inputClasses","validationError","invalid","shouldValidate","formSubmitted","errorMessage","elementType","elementConfig","checkValidity","rules","isValid","required","trim","minLength","maxLength","isEmail","test","isName","isUsername","isNumeric","isPhoneNumber","Form","handleChange","event","inputId","updatedFormData","form","updatedForm","updatedFormElement","trimmedValue","target","digits","match","replace","formatPhoneNumber","valid","validation","touched","formIsValid","handleInputChange","updateForm","formElementsArray","id","formElement","onSubmit","SignIn","handleSubmit","status","redirect","isAuthenticated","SignInContainer","password","setState","signIn","stateUpdate","this","Component","signInError","SignUp","location","fromCheckout","fromSignUp","SignUpContainer","firstName","lastName","email","signUp","signUpError","AddTags","tagsContent","submitTag","setError","inputRef","incomingTag","DUPLICATE_TAG","INCORRECT_FORMAT_TAG","EMPTY_TAG","htmlFor","NewThread","creatingThread","handleSetTitle","createThreadError","handleSavePostContent","tagsError","NO_TAGS","newThread","TITLE_TOO_SHORT","NO_CONTENT","createThread","resetCreateThreadError","setTags","setTitle","prevTags","newTags","splice","UserProfile","userThreads","gettingUserThreads","getUserThreadsError","userProfile","gettingUserProfile","getUserProfileError","userProfileContent","getUserThreads","getUserProfile","CreateForum","creatingForum","CreateForumContainer","initialForm","forumName","createForum","createdForum","resetCreateForum","createForumError","AdminDashboard","deleteForum","deletingForumId","dashboardContent","deleteForumContent","deletedForumId","getAllForums","authenticateToken","exact","path","component","AdminDashboardContainer","ForumFeedContainer","UserProfileContainer","ThreadContainer","NewThreadContainer","Boolean","window","hostname","initialState","reducer","action","deleteForumError","filter","doneGettingThread","getRepliesError","setPinnedStatusError","setFavoritesError","combineReducers","authReducer","feedsReducer","threadReducer","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","listen","scrollTo","createBrowserHistory","basename","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.5a73c9c1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAIQUExURUdwTE+2S0W5RU23TE63TE21SU63TQD/AG6Rbky3SU62TEy0S062TFC4R0+0TE23SU63S062TE+3TGbMM063S063S063S062TE62TE63S0+3TE68Tky3TFS3Sk60TE63S06wTk63Sk+3TE62S022S062S0+2TE63S062TE63S063S063S0+1Sky0TE63S0+3SUu1S0+1S063S0+4S022S0+2Sk21TE63SlC2S1C3Sk23Sk+0TEy0Sk62TE21Sk+0TE63Sk62S021S064TE21TEy3SUy3SU62S062S0+3SU+3S063TE23Sk63Sz+/P063S0+3SU63Sk+3TE+2SU62S062TFC2TFC2S063S023TE+4SlWqVU+1S0+3TP///7jit129WmC+Xbvjus7rzeT05NHs0FC3Tf7//lC4TWfBZGO/YJPTkVe6VFO5UPb79eHz4H7LfNvx273kvPr9+qjcpobOg1u8WO/577Ths5fVlVK4T169W1W6Uvz++3jIdVm8VozQimzDamrDaMXoxPj8+NXu1PP685rWmXvKeef15q/eraTaoun26c3rzHDFbYnPh7HfsJ/YncnpyOv36/3+/ZXUlIPNgY7RjcLmwazdqvH58aXbpLniuHLFcHXHc4HMf9rw2ZHSj2G/Xt/y3sDlv8zqy9fv1+747rbhtaHZoOPz4nnId5zXm9Dsz8rpyWTAYnoTUTkAAABddFJOUwAvB8+J4ioBAv0S6ZEO/hjKcfgFSH9NQmN4ZwvdFfuaDb2jnza5WJaEttZ82PDk9RrbjHTGJr/CHxzw9PNQ3/cz0u1Fwvb5s6wjW2BSqARt8us46M07IWmv2ToGPi/m3/oAABQsSURBVHja7N0JU1RXGsbxVjGAGndQRINT7ktc4hKjYTTGRC11qqxkLDNOn4hC0yCgESWILKJsiiIKqLgAioKKznzFwUpmpmYkSYPnnu39v1+g+zzvr/vee+6558ZizlTGrOXZh+aszjuwfcraxVOn79yYGadSrE927d28df+qLfkHM2L+Ve6elTmrVqzfTR811K6tn+VP86b1Gcfysw5snknb9Fbm1qxJ6c43f1p22r4vaVZUtTZrh7u9T992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\"","import axios from 'axios';\n\n/* Axios instance used to call api */\nlet instance = axios.create({\n  baseURL: process.env.REACT_APP_API_BASE_URL,\n});\n\ninstance.interceptors.request.use(function (config) {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n\n  return config;\n});\n\naxios.interceptors.response.use(\n  function (response) {\n    return response;\n  },\n  function (error) {\n    return Promise.reject(error);\n  }\n);\n\nexport default instance;\n","import * as actionTypes from './actionTypes';\nimport axios from '../../axiosAPI';\nimport { history } from '../../index';\n\n/* To show loading in UI when authentication action has started */\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START,\n  };\n};\n\n/* Reset auth error after unmounting an auth component */\nexport const authReset = () => {\n  return {\n    type: actionTypes.AUTH_RESET,\n  };\n};\n\n/* Failed to initialize app */\nexport const authTokenFailed = () => {\n  return {\n    type: actionTypes.AUTH_TOKEN_FAILED,\n  };\n};\n\n/* Successfully authenticated user and received token/userid */\nexport const authSuccess = (authData) => {\n  return (dispatch) => {\n    if (authData.token) {\n      localStorage.setItem('token', authData.token);\n    }\n    dispatch({ type: actionTypes.AUTH_SUCCESS, user: authData.user });\n\n    //Set automatic sign out\n    dispatch(checkAuthTimeout(authData.expires));\n  };\n};\n\n/* Set error to be displayed in UI when authentication has failed */\nexport const signInFailed = (error) => {\n  return {\n    type: actionTypes.SIGN_IN_FAILED,\n    error: error,\n  };\n};\n\n/* Set error to be displayed in UI when authentication has failed */\nexport const signUpFailed = (error) => {\n  return {\n    type: actionTypes.SIGN_UP_FAILED,\n    error: error,\n  };\n};\n\n/* Clear user data and cart on sign out */\nexport const signOut = () => {\n  return (dispatch) => {\n    localStorage.removeItem('token');\n    dispatch({\n      type: actionTypes.AUTH_SIGNOUT,\n    });\n\n    history.push({ pathname: '/', fromSignOut: true });\n  };\n};\n\n/* Sign out user when expiration time has been reached */\nexport const checkAuthTimeout = (expirationTime) => {\n  return (dispatch) => {\n    //Calculate time to expire based on exact time of expiration\n    let timeToExpire = expirationTime - new Date().getTime();\n\n    //Dispatch sign out action in time to expire\n    setTimeout(() => {\n      dispatch(signOut());\n    }, timeToExpire);\n  };\n};\n\n/* Sign in user with email/password.\n   Also get user's cart and orders once successfully signed in */\nexport const signIn = (username, password) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    const authData = {\n      username: username,\n      password: password,\n    };\n    return axios\n      .post('/auth/signin', authData)\n      .then((res) => {\n        if (res.data.token) {\n          //Successful authentication, get user's data here\n          dispatch(authSuccess(res.data));\n        } else {\n          dispatch(signInFailed());\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          dispatch(signInFailed(err.response));\n        } else {\n          dispatch(signInFailed());\n        }\n      });\n  };\n};\n\n/* Sign up user with email/password */\nexport const signUp = (firstName, lastName, email, username, password) => {\n  return (dispatch) => {\n    dispatch(authStart());\n    const authData = {\n      firstName: firstName,\n      lastName: lastName,\n      username: username,\n      email: email,\n      password: password,\n    };\n    return axios\n      .post('/auth/signup', authData)\n      .then((res) => {\n        if (res.data.token) {\n          //Successful authentication, get user's data here\n          dispatch(authSuccess(res.data));\n        } else {\n          dispatch(signUpFailed());\n        }\n      })\n      .catch((err) => {\n        if (err.response) {\n          dispatch(signUpFailed(err.response));\n        } else {\n          dispatch(signUpFailed());\n        }\n      });\n  };\n};\n\n/* Initialize application upon app load */\nexport const authenticateToken = () => {\n  return (dispatch) => {\n    dispatch(authStart());\n    return axios\n      .get('/auth/me')\n      .then((res) => {\n        if (res.data.user) {\n          //Successful authentication, get user's data here\n          dispatch(authSuccess(res.data));\n        } else {\n          dispatch(authTokenFailed());\n        }\n      })\n      .catch(() => {\n        dispatch(authTokenFailed());\n      });\n  };\n};\n","export const AUTH_START = 'AUTH_START';\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS';\nexport const AUTH_TOKEN_FAILED = 'AUTH_TOKEN_FAILED';\nexport const SIGN_IN_FAILED = 'SIGN_IN_FAILED';\nexport const SIGN_UP_FAILED = 'SIGN_UP_FAILED';\nexport const AUTH_SIGNOUT = 'AUTH_SIGNOUT';\nexport const AUTH_RESET = 'AUTH_RESET';\n","import React from 'react';\nimport './DropDownMenu.scss';\n\nconst DropDownMenu = (props) => {\n  let classNames = ['drop-down-menu'];\n  if (!props.show) {\n    classNames.push('drop-down-menu__hide');\n  }\n  return (\n    <div className={classNames.join(' ')}>\n      <ul className='drop-down-menu__list'>\n        {props.children.map((child, index) => {\n          if (child) {\n            return (\n              <li key={index} className='drop-down-menu__item'>\n                {child}\n              </li>\n            );\n          }\n          return null;\n        })}\n      </ul>\n    </div>\n  );\n};\n\nexport default DropDownMenu;\n","import React from 'react';\nimport './Header.scss';\nimport UForumLogo from '../../../images/uforum.png';\nimport { Link } from 'react-router-dom';\nimport { FaUserCircle } from 'react-icons/fa';\nimport DropDownMenu from '../../Theme/DropDownMenu/DropDownMenu';\nimport PropTypes from 'prop-types';\n\nconst Header = (props) => {\n  const {\n    user,\n    showMenu,\n    handleClickDashboard,\n    handleClickSignOut,\n    handleClickUserProfile,\n    handleMenuToggle,\n  } = props;\n\n  let userInfo = (\n    <Link className='header__auth link' to='/signin'>\n      <h2>Sign up / Sign in</h2>\n    </Link>\n  );\n\n  if (user) {\n    let dashboard = null;\n    if (user.role === 'admin') {\n      dashboard = (\n        <div className='header__menu-item' onClick={handleClickDashboard}>\n          <span>Admin Dashboard</span>\n        </div>\n      );\n    }\n    userInfo = (\n      <div className='header__menu' onClick={handleMenuToggle}>\n        <div className='header__user'>\n          <FaUserCircle className='header__usericon' />\n          <div className='header__username'>{user.username}</div>\n        </div>\n        <DropDownMenu show={showMenu}>\n          {dashboard}\n          <div className='header__menu-item' onClick={handleClickUserProfile}>\n            <span>My Profile</span>\n          </div>\n          <div className='header__menu-item' onClick={handleClickSignOut}>\n            <span>Sign Out</span>\n          </div>\n        </DropDownMenu>\n      </div>\n    );\n  }\n\n  return (\n    <header className='header'>\n      <Link to='/' className='header__logo-title link'>\n        <img className='header__logo' src={UForumLogo} alt='UForum logo' />\n        <h1>UForum</h1>\n      </Link>\n      {userInfo}\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  user: PropTypes.shape({\n    username: PropTypes.string.isRequired,\n    _id: PropTypes.string.isRequired,\n  }),\n  showMenu: PropTypes.bool.isRequired,\n  handleClickDashboard: PropTypes.func.isRequired,\n  handleClickSignOut: PropTypes.func.isRequired,\n  handleClickUserProfile: PropTypes.func.isRequired,\n  handleMenuToggle: PropTypes.func.isRequired,\n};\n\nexport default Header;\n","import React from 'react';\nimport './NavigationBar.scss';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst NavigationBar = (props) => {\n  const { forumSlug } = props;\n\n  let forums = null;\n  if (props.gettingForums) {\n    forums = <div className='navbar__loading'>Loading...</div>;\n  } else if (props.forums) {\n    forums = props.forums.map((forum, index) => {\n      let linkClassNames = ['navbar__forum'];\n      if (forumSlug === `/${forum.slug}`) {\n        linkClassNames.push('navbar__forum--selected');\n      }\n      if (forumSlug === '/' && index === 0) {\n        linkClassNames.push('navbar__forum--selected');\n      }\n      return (\n        <li key={forum.slug} className={linkClassNames.join(' ')}>\n          <Link className='navbar__link link' to={`/${forum.slug}`}>\n            <span>{forum.name}</span>\n          </Link>\n        </li>\n      );\n    });\n  }\n  return (\n    <nav className='navbar'>\n      <ul className='navbar__forum-list'>{forums}</ul>\n    </nav>\n  );\n};\n\nPropTypes.NavigationBar = {\n  forums: PropTypes.array.isRequired,\n  forumSlug: PropTypes.string.isRequired,\n};\n\nexport default NavigationBar;\n","import React from 'react';\nimport './Layout.scss';\nimport Header from './Header/Header';\nimport NavigationBar from './NavigationBar/NavigationBar';\n\nconst Layout = (props) => {\n  return (\n    <div className='layout'>\n      <Header\n        user={props.user}\n        showMenu={props.showMenu}\n        handleClickDashboard={props.handleClickDashboard}\n        handleClickSignOut={props.handleClickSignOut}\n        handleClickUserProfile={props.handleClickUserProfile}\n        handleMenuToggle={props.handleMenuToggle}\n      />\n      <NavigationBar\n        forums={props.forums}\n        gettingForums={props.gettingForums}\n        getForumsError={props.getForumsError}\n        forumSlug={props.forumSlug}\n      />\n      <main className='main'>{props.children}</main>\n    </div>\n  );\n};\n\nexport default Layout;\n","import React, { useState } from 'react';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { signOut } from '../store/auth/actions';\nimport Layout from '../components/Layout/Layout';\nimport PropTypes from 'prop-types';\n\n/* Container for header and navigation bar */\nconst LayoutContainer = (props) => {\n  const [showMenu, setShowMenu] = useState(false);\n\n  const forumSlug = useLocation().pathname;\n\n  const { user } = props;\n\n  const handleMenuToggle = () => {\n    setShowMenu((prevShowMenu) => !prevShowMenu);\n  };\n\n  const handleClickDashboard = () => {\n    props.history.push('/admin');\n  };\n\n  const handleClickUserProfile = () => {\n    props.history.push(`/user/${user.username}`);\n  };\n\n  const handleClickSignOut = () => {\n    props.signOut();\n  };\n\n  return (\n    <Layout\n      {...props}\n      forumSlug={forumSlug}\n      showMenu={showMenu}\n      handleClickDashboard={handleClickDashboard}\n      handleClickSignOut={handleClickSignOut}\n      handleClickUserProfile={handleClickUserProfile}\n      handleMenuToggle={handleMenuToggle}\n    />\n  );\n};\n\nLayoutContainer.propTypes = {\n  user: PropTypes.shape({\n    username: PropTypes.string.isRequired,\n    _id: PropTypes.string.isRequired,\n  }),\n  forums: PropTypes.array,\n  gettingForums: PropTypes.bool.isRequired,\n  getForumsError: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n  forums: state.feeds.forums,\n  gettingForums: state.feeds.gettingForums,\n  getForumsError: state.feeds.getForumsError,\n});\n\nexport default connect(mapStateToProps, { signOut })(\n  withRouter(LayoutContainer)\n);\n","import axios from '../../axiosAPI';\nimport * as actionTypes from './actionTypes';\n\nexport const createForum = (forumName) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.CREATE_FORUM_START });\n    const forum = { name: forumName };\n    return axios\n      .post('/forums', forum)\n      .then((res) => {\n        if (res.data.forums) {\n          dispatch({\n            type: actionTypes.CREATE_FORUM_SUCCESS,\n            forums: res.data.forums,\n          });\n        } else {\n          dispatch(createForumFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(createForumFailed(err));\n      });\n  };\n};\n\nexport const createForumFailed = (err) => {\n  return (dispatch) => {\n    let error = null;\n    if (err) {\n      //Check for unique validation error for any field\n      if (err.response && err.response.data.error.includes('unique')) {\n        error = 'Forum name must be unique.';\n      } else if (err.message) {\n        error = err.message;\n      }\n    }\n    //Default to general error\n    else {\n      error = 'Unable to create a forum. Please try again later.';\n    }\n    dispatch({\n      type: actionTypes.CREATE_FORUM_FAILED,\n      error: error,\n    });\n  };\n};\n\nexport const resetCreateForum = () => {\n  return {\n    type: actionTypes.CREATE_FORUM_RESET,\n  };\n};\n\nexport const getAllForums = () => {\n  return (dispatch) => {\n    dispatch({\n      type: actionTypes.GET_ALL_FORUMS_START,\n    });\n    return axios\n      .get('/forums')\n      .then((res) => {\n        if (res.data.forums) {\n          dispatch({\n            type: actionTypes.GET_ALL_FORUMS_SUCCESS,\n            forums: res.data.forums,\n          });\n        } else {\n          dispatch(getAllForumsFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getAllForumsFailed(err));\n      });\n  };\n};\n\nexport const getAllForumsFailed = (err) => {\n  return {\n    type: actionTypes.GET_ALL_FORUMS_FAILED,\n    error:\n      (err && err.message) || 'Unable to get forums. Please try again later.',\n  };\n};\n\nexport const deleteForum = (forumId) => {\n  return (dispatch) => {\n    dispatch({\n      type: actionTypes.DELETE_FORUM_START,\n      deletingForumId: forumId,\n    });\n    return axios\n      .delete(`/forums/${forumId}`)\n      .then((res) => {\n        if (res.data.success) {\n          dispatch({\n            type: actionTypes.DELETE_FORUM_SUCCESS,\n            deletedForumId: forumId,\n          });\n        } else {\n          dispatch(deleteForumFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(deleteForumFailed(err));\n      });\n  };\n};\n\nexport const deleteForumFailed = (err) => {\n  return {\n    type: actionTypes.DELETE_FORUM_FAILED,\n    error:\n      (err && err.message) || 'Unable to delete forum. Please try again later.',\n  };\n};\n\nexport const getUnpinnedThreads = (forumId, sortingMethod = 'date') => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_UNPINNED_THREADS_START });\n    let url = `/forums/${forumId}/threads?pinned=false`;\n\n    //Default to sort by date\n    if (sortingMethod === 'date') {\n      url += '&sorting_method=date';\n    }\n    //Otherwise, sort by popularity\n    else if (sortingMethod === 'popularity') {\n      url += '&sorting_method=popularity';\n    }\n    return axios\n      .get(url)\n      .then((res) => {\n        if (res.data.threads) {\n          dispatch({\n            type: actionTypes.GET_UNPINNED_THREADS_SUCCESS,\n            unpinnedThreads: res.data.threads,\n          });\n        } else {\n          dispatch(getUnpinnedThreadsFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getUnpinnedThreadsFailed(err));\n      });\n  };\n};\n\nexport const getUnpinnedThreadsFailed = (err) => {\n  return {\n    type: actionTypes.GET_UNPINNED_THREADS_FAILED,\n    error:\n      (err && err.message) || 'Unable to get threads. Please try again later.',\n  };\n};\n\nexport const getPinnedThreads = (forumId) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_PINNED_THREADS_START });\n    return axios\n      .get(`/forums/${forumId}/threads?pinned=true`)\n      .then((res) => {\n        if (res.data.threads) {\n          dispatch({\n            type: actionTypes.GET_PINNED_THREADS_SUCCESS,\n            pinnedThreads: res.data.threads,\n          });\n        } else {\n          dispatch(getPinnedThreadsFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getPinnedThreadsFailed(err));\n      });\n  };\n};\n\nexport const getPinnedThreadsFailed = (err) => {\n  return {\n    type: actionTypes.GET_PINNED_THREADS_FAILED,\n    error:\n      (err && err.message) ||\n      'Unable to get pinned threads. Please try again later.',\n  };\n};\n\nexport const getUserThreads = (username) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_USER_THREADS_START });\n    return axios\n      .get(`/users/${username}/threads`)\n      .then((res) => {\n        if (res.data.threads) {\n          dispatch({\n            type: actionTypes.GET_USER_THREADS_SUCCESS,\n            userThreads: res.data.threads,\n          });\n        } else {\n          dispatch(getUserThreadsFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getUserThreadsFailed(err));\n      });\n  };\n};\n\nexport const getUserThreadsFailed = (err) => {\n  return {\n    type: actionTypes.GET_USER_THREADS_FAILED,\n    error:\n      (err && err.message) ||\n      \"Unable to get user's threads. Please try again later.\",\n  };\n};\n\nexport const getUserProfile = (username) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_USER_PROFILE_START });\n    return axios\n      .get(`/users/${username}`)\n      .then((res) => {\n        if (res.data.user) {\n          dispatch({\n            type: actionTypes.GET_USER_PROFILE_SUCCESS,\n            userProfile: res.data.user,\n          });\n        } else {\n          dispatch(getUserProfileFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getUserProfileFailed(err));\n      });\n  };\n};\n\nexport const getUserProfileFailed = (err) => {\n  return {\n    type: actionTypes.GET_USER_PROFILE_FAILED,\n    error:\n      (err && err.message) ||\n      'Unable to get user profile. Please try again later.',\n  };\n};\n","export const GET_ALL_FORUMS_START = 'GET_ALL_FORUMS_START';\nexport const GET_ALL_FORUMS_SUCCESS = 'GET_ALL_FORUMS_SUCCESS';\nexport const GET_ALL_FORUMS_FAILED = 'GET_ALL_FORUMS_FAILED';\n\nexport const CREATE_FORUM_START = 'CREATE_FORUM_START';\nexport const CREATE_FORUM_SUCCESS = 'CREATE_FORUM_SUCCESS';\nexport const CREATE_FORUM_FAILED = 'CREATE_FORUM_FAILED';\nexport const CREATE_FORUM_RESET = 'CREATE_FORUM_RESET';\n\nexport const DELETE_FORUM_START = 'DELETE_FORUM_START';\nexport const DELETE_FORUM_SUCCESS = 'DELETE_FORUM_SUCCESS';\nexport const DELETE_FORUM_FAILED = 'DELETE_FORUM_FAILED';\n\nexport const GET_UNPINNED_THREADS_START = 'GET_UNPINNED_THREADS_START';\nexport const GET_UNPINNED_THREADS_SUCCESS = 'GET_UNPINNED_THREADS_SUCCESS';\nexport const GET_UNPINNED_THREADS_FAILED = 'GET_UNPINNED_THREADS_FAILED';\n\nexport const GET_PINNED_THREADS_START = 'GET_PINNED_THREADS_START';\nexport const GET_PINNED_THREADS_SUCCESS = 'GET_PINNED_THREADS_SUCCESS';\nexport const GET_PINNED_THREADS_FAILED = 'GET_PINNED_THREADS_FAILED';\n\nexport const GET_USER_PROFILE_START = 'GET_USER_PROFILE_START';\nexport const GET_USER_PROFILE_SUCCESS = 'GET_USER_PROFILE_SUCCESS';\nexport const GET_USER_PROFILE_FAILED = 'GET_USER_PROFILE_FAILED';\n\nexport const GET_USER_THREADS_START = 'GET_USER_THREADS_START';\nexport const GET_USER_THREADS_SUCCESS = 'GET_USER_THREADS_SUCCESS';\nexport const GET_USER_THREADS_FAILED = 'GET_USER_THREADS_FAILED';\n","import * as actionTypes from './actionTypes';\nimport axios from '../../axiosAPI';\nimport { history } from '../../index';\n\nexport const createThread = (forum, userId, title, content, tags) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.CREATE_THREAD_START });\n    const thread = {\n      forum: forum._id,\n      user: userId,\n      title,\n      content,\n      tags,\n    };\n    return axios\n      .post('/threads', thread)\n      .then((res) => {\n        if (res.data.thread) {\n          dispatch({\n            type: actionTypes.CREATE_THREAD_SUCCESS,\n            currentThread: res.data.thread,\n          });\n          history.push(`/${forum.slug}/thread/${res.data.thread.slug}`);\n        } else {\n          dispatch(createThreadFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(createThreadFailed(err));\n      });\n  };\n};\n\nexport const createThreadFailed = (err) => {\n  return {\n    type: actionTypes.CREATE_THREAD_FAILED,\n    error:\n      (err && err.message) ||\n      'Unable to create thread. Please try again later.',\n  };\n};\n\nexport const resetCreateThreadError = () => {\n  return {\n    type: actionTypes.CREATE_THREAD_RESET,\n  };\n};\n\nexport const getThread = (threadSlug) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_THREAD_START });\n    return axios\n      .get(`/threads?slug=${threadSlug}`)\n      .then((res) => {\n        const threads = res.data.threads;\n        if (threads && threads.length > 0) {\n          dispatch({\n            type: actionTypes.GET_THREAD_SUCCESS,\n            currentThread: threads[0],\n          });\n          dispatch(getReplies(threads[0]._id));\n        } else {\n          dispatch(getThreadFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getThreadFailed(err));\n      });\n  };\n};\n\nexport const getThreadFailed = (err) => {\n  return {\n    type: actionTypes.GET_THREAD_FAILED,\n    error: (err && err.message) || 'Thread not found.',\n  };\n};\n\nexport const deleteThread = (forumSlug, threadId) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.DELETE_THREAD_START });\n    return axios\n      .delete(`/threads/${threadId}`)\n      .then((res) => {\n        if (res.data.success) {\n          dispatch({ type: actionTypes.DELETE_THREAD_SUCCESS });\n          history.push(`/${forumSlug}`);\n        } else {\n          dispatch(setDeleteThreadFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(setDeleteThreadFailed(err));\n      });\n  };\n};\n\nexport const setDeleteThreadFailed = (err) => {\n  return {\n    type: actionTypes.DELETE_THREAD_FAILED,\n    error:\n      (err && err.message) ||\n      'Unable to delete thread. Please try again later.',\n  };\n};\n\nexport const createReply = (forum, user, threadId, content) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.CREATE_REPLY_START });\n    const reply = {\n      forum,\n      user,\n      content,\n    };\n\n    return axios\n      .post(`/threads/${threadId}/replies`, reply)\n      .then((res) => {\n        if (res.data.reply) {\n          dispatch({\n            type: actionTypes.CREATE_REPLY_SUCCESS,\n            reply: res.data.reply,\n          });\n        } else {\n          dispatch(createReplyFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(createReplyFailed(err));\n      });\n  };\n};\n\nexport const createReplyFailed = (err) => {\n  return {\n    type: actionTypes.CREATE_REPLY_FAILED,\n    error:\n      (err && err.message) || 'Unable to create reply. Please try again later.',\n  };\n};\n\nexport const getReplies = (threadId) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.GET_REPLIES_START });\n    return axios\n      .get(`/threads/${threadId}/replies`)\n      .then((res) => {\n        if (res.data.replies) {\n          dispatch({\n            type: actionTypes.GET_REPLIES_SUCCESS,\n            replies: res.data.replies,\n          });\n        } else {\n          dispatch(getRepliesFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(getRepliesFailed(err));\n      });\n  };\n};\n\nexport const getRepliesFailed = (err) => {\n  return {\n    type: actionTypes.GET_REPLIES_FAILED,\n    error:\n      (err && err.message) || 'Unable to get replies. Please try again later.',\n  };\n};\n\nexport const deleteReply = (threadId, replyId) => {\n  return (dispatch) => {\n    dispatch({\n      type: actionTypes.DELETE_REPLY_START,\n      deletingReplyId: replyId,\n    });\n    return axios\n      .delete(`/threads/${threadId}/replies/${replyId}`)\n      .then((res) => {\n        if (res.data.success) {\n          dispatch({\n            type: actionTypes.DELETE_REPLY_SUCCESS,\n            deletedReplyId: replyId,\n          });\n        } else {\n          dispatch(deleteReplyFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(deleteReplyFailed(err));\n      });\n  };\n};\n\nexport const deleteReplyFailed = (err) => {\n  return {\n    type: actionTypes.DELETE_REPLY_FAILED,\n    error:\n      (err && err.message) || 'Unable to delete reply. Please try again later.',\n  };\n};\n\nexport const favoriteThread = (userId, threadId) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.SET_THREAD_FAVORITES_START });\n    const user = { _id: userId };\n    return axios\n      .post(`/threads/${threadId}/favorites`, user)\n      .then((res) => {\n        if (res.data.favorites) {\n          dispatch({\n            type: actionTypes.SET_THREAD_FAVORITES_SUCCESS,\n            favorites: res.data.favorites,\n          });\n        } else {\n          dispatch(favoriteThreadFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(favoriteThreadFailed(err));\n      });\n  };\n};\n\nexport const favoriteThreadFailed = (err) => {\n  return {\n    type: actionTypes.SET_THREAD_FAVORITES_FAILED,\n    error: (err && err.message) || 'Unable to favorite.',\n  };\n};\n\nexport const unfavoriteThread = (userId, threadId) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.SET_THREAD_FAVORITES_START });\n    return axios\n      .delete(`/threads/${threadId}/favorites/${userId}`)\n      .then((res) => {\n        if (res.data.favorites) {\n          dispatch({\n            type: actionTypes.SET_THREAD_FAVORITES_SUCCESS,\n            favorites: res.data.favorites,\n          });\n        } else {\n          dispatch(unfavoriteThreadFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(unfavoriteThreadFailed(err));\n      });\n  };\n};\n\nexport const unfavoriteThreadFailed = (err) => {\n  return {\n    type: actionTypes.SET_THREAD_FAVORITES_FAILED,\n    error: (err && err.message) || 'Unable to unfavorite.',\n  };\n};\n\nexport const setThreadPinnedStatus = (threadId, pinnedStatus) => {\n  return (dispatch) => {\n    dispatch({ type: actionTypes.SET_PINNED_STATUS_START });\n    const pinned = { pinned: pinnedStatus };\n    return axios\n      .patch(`/threads/${threadId}`, pinned)\n      .then((res) => {\n        if (res.data.thread) {\n          dispatch({\n            type: actionTypes.SET_PINNED_STATUS_SUCCESS,\n            currentThread: res.data.thread,\n          });\n        } else {\n          dispatch(setThreadPinnedStatusFailed());\n        }\n      })\n      .catch((err) => {\n        dispatch(setThreadPinnedStatusFailed(err));\n      });\n  };\n};\n\nexport const setThreadPinnedStatusFailed = (err) => {\n  return {\n    type: actionTypes.SET_PINNED_STATUS_FAILED,\n    error: (err && err.message) || 'Unable to toggle pin.',\n  };\n};\n\nexport const setCurrentThread = (currentThread) => {\n  return {\n    type: actionTypes.SET_CURRENT_THREAD,\n    currentThread: currentThread,\n  };\n};\n\nexport const resetThreadErrors = () => {\n  return {\n    type: actionTypes.THREAD_ERRORS_RESET,\n  };\n};\n","export const GET_THREAD_START = 'GET_THREAD_START';\nexport const GET_THREAD_SUCCESS = 'GET_THREAD_SUCCESS';\nexport const GET_THREAD_FAILED = 'GET_THREAD_FAILED';\n\nexport const CREATE_THREAD_START = 'CREATE_THREAD_START';\nexport const CREATE_THREAD_SUCCESS = 'CREATE_THREAD_SUCCESS';\nexport const CREATE_THREAD_FAILED = 'CREATE_THREAD_FAILED';\n\nexport const DELETE_THREAD_START = 'DELETE_THREAD_START';\nexport const DELETE_THREAD_SUCCESS = 'DELETE_THREAD_SUCCESS';\nexport const DELETE_THREAD_FAILED = 'DELETE_THREAD_FAILED';\n\nexport const SET_CURRENT_THREAD = 'SET_CURRENT_THREAD';\n\nexport const GET_REPLIES_START = 'GET_REPLIES_START';\nexport const GET_REPLIES_SUCCESS = 'GET_REPLIES_SUCCESS';\nexport const GET_REPLIES_FAILED = 'GET_REPLIES_FAILED';\n\nexport const CREATE_REPLY_START = 'CREATE_REPLY_START';\nexport const CREATE_REPLY_SUCCESS = 'CREATE_REPLY_SUCCESS';\nexport const CREATE_REPLY_FAILED = 'CREATE_REPLY_FAILED';\nexport const CREATE_THREAD_RESET = 'CREATE_THREAD_RESET';\n\nexport const DELETE_REPLY_START = 'DELETE_REPLY_START';\nexport const DELETE_REPLY_SUCCESS = 'DELETE_REPLY_SUCCESS';\nexport const DELETE_REPLY_FAILED = 'DELETE_REPLY_FAILED';\n\nexport const SET_THREAD_FAVORITES_START = 'SET_THREAD_FAVORITES_START';\nexport const SET_THREAD_FAVORITES_SUCCESS = 'SET_THREAD_FAVORITES_SUCCESS';\nexport const SET_THREAD_FAVORITES_FAILED = 'SET_THREAD_FAVORITES_FAILED';\n\nexport const SET_PINNED_STATUS_START = 'SET_PINNED_STATUS_START';\nexport const SET_PINNED_STATUS_SUCCESS = 'SET_PINNED_STATUS_SUCCESS';\nexport const SET_PINNED_STATUS_FAILED = 'SET_PINNED_STATUS_FAILED';\n\nexport const THREAD_ERRORS_RESET = 'THREAD_ERRORS_RESET';\n","import React from 'react';\nimport './Tag.scss';\nimport { FaTimes } from 'react-icons/fa';\n\n/* Component for tags associated with a thread's initial post */\nconst Tag = (props) => {\n  let deleteTag = null;\n  if (props.delete) {\n    deleteTag = <FaTimes className='tag__delete' onClick={props.delete} />;\n  }\n  return (\n    <div className='tag'>\n      {props.children}\n      {deleteTag}\n    </div>\n  );\n};\n\nexport default Tag;\n","import React from 'react';\nimport './ThreadBox.scss';\nimport Tag from '../../Tag/Tag';\nimport { FaUser } from 'react-icons/fa';\nimport Moment from 'moment';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n/* Single thread in feed with all thread info */\nconst ThreadBox = (props) => {\n  const { hideUser, thread, setCurrentThread } = props;\n\n  let tags = null;\n  tags = thread.tags.map((tag) => {\n    return <Tag key={tag}>{tag}</Tag>;\n  });\n\n  let userInfo = null;\n  if (thread.user.username && !hideUser) {\n    userInfo = (\n      <Link\n        to={`/user/${thread.user.username}`}\n        className='thread-box__userinfo link'\n      >\n        <FaUser className='thread-box__usericon' />\n        <div className='thread-box__username'>{thread.user.username}</div>\n      </Link>\n    );\n  }\n\n  return (\n    <div className='thread-box'>\n      <Link\n        onClick={() => setCurrentThread(thread)}\n        to={{ pathname: `/${thread.forum.slug}/thread/${thread.slug}` }}\n        className='thread-box__title'\n      >\n        {thread.title}\n      </Link>\n      {userInfo}\n      <div className='thread-box__metadata'>\n        <div className='thread-box__tags'>{tags}</div>\n        <div className='thread-box__stats'>\n          <div className='thread-box__age'>\n            {Moment(thread.createdAt).fromNow()}\n          </div>\n          <div className='thread-box__favorites'>\n            {thread.favorites.length} favorites\n          </div>\n          <div className='thread-box__replies'>\n            {thread.replies.length} replies\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nThreadBox.propTypes = {\n  hideUser: PropTypes.bool,\n  thread: PropTypes.shape({\n    user: PropTypes.object.isRequired,\n    forum: PropTypes.object.isRequired,\n    slug: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    favorites: PropTypes.arrayOf(PropTypes.string).isRequired,\n    replies: PropTypes.arrayOf(PropTypes.string).isRequired,\n    createdAt: PropTypes.string.isRequired,\n  }),\n  setCurrentThread: PropTypes.func.isRequired,\n};\n\nexport default ThreadBox;\n","import React from 'react';\nimport './FeedBox.scss';\nimport ThreadBox from '../ThreadBox/ThreadBox';\nimport { ClipLoader } from 'react-spinners';\nimport PropTypes from 'prop-types';\n\n/* Box containing a list of threads that form a feed */\nconst FeedBox = (props) => {\n  const {\n    title,\n    threads,\n    gettingThreads,\n    error,\n    setCurrentThread,\n    handleGetThreads,\n    sortingMethod,\n    setSortingMethod,\n    sort,\n    hideUser,\n  } = props;\n\n  const handleSortingMethod = (sortingMethod) => {\n    setSortingMethod(sortingMethod);\n    handleGetThreads(sortingMethod);\n  };\n\n  let threadBoxes = null;\n  if (gettingThreads) {\n    threadBoxes = (\n      <div className='feed-box__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (error) {\n    threadBoxes = <div className='feed-box__error'>{error}</div>;\n  } else if (threads && threads.length > 0) {\n    threadBoxes = threads.map((thread) => {\n      return (\n        <ThreadBox\n          key={thread._id}\n          thread={thread}\n          setCurrentThread={setCurrentThread}\n          hideUser={hideUser}\n        />\n      );\n    });\n  } else {\n    threadBoxes = <div className='feed-box__none'>No threads...</div>;\n  }\n\n  let sortContent = null;\n  if (sort) {\n    let sortDateClassNames = ['feed-box__sort-type'];\n    if (sortingMethod === 'date') {\n      sortDateClassNames.push('feed-box__sort-type--selected');\n    }\n    let sortPopularityClassNames = ['feed-box__sort-type'];\n    if (sortingMethod === 'popularity') {\n      sortPopularityClassNames.push('feed-box__sort-type--selected');\n    }\n    sortContent = (\n      <div className='feed-box__sort'>\n        <div\n          className={sortDateClassNames.join(' ')}\n          onClick={() => handleSortingMethod('date')}\n        >\n          Latest\n        </div>\n        <div\n          className={sortPopularityClassNames.join(' ')}\n          onClick={() => handleSortingMethod('popularity')}\n        >\n          Popular\n        </div>\n      </div>\n    );\n  }\n\n  let feedBox = null;\n  feedBox = (\n    <div className='feed-box'>\n      <div className='feed-box__title'>\n        <h2>{title}</h2>\n        {sortContent}\n      </div>\n      {threadBoxes}\n    </div>\n  );\n\n  return feedBox;\n};\n\nFeedBox.propTypes = {\n  title: PropTypes.string.isRequired,\n  threads: PropTypes.arrayOf(PropTypes.object),\n  gettingThreads: PropTypes.bool.isRequired,\n  error: PropTypes.string,\n  setCurrentThread: PropTypes.func.isRequired,\n  handleGetThreads: PropTypes.func,\n  sortingMethod: PropTypes.string,\n  setSortingMethod: PropTypes.func,\n  sort: PropTypes.bool,\n  hideUser: PropTypes.bool,\n};\n\nexport default FeedBox;\n","import React from 'react';\nimport './Button.scss';\n\nconst Button = (props) => {\n  return (\n    <button className='button' disabled={props.disabled}>\n      <h2>{props.children}</h2>\n    </button>\n  );\n};\n\nexport default Button;\n","import React from 'react';\nimport './ForumFeed.scss';\nimport FeedBox from './FeedBox/FeedBox';\nimport Button from '../Theme/Button/Button';\nimport { Link } from 'react-router-dom';\nimport { ClipLoader } from 'react-spinners';\nimport PropTypes from 'prop-types';\n\n/* All feeds for a particular forum */\nconst ForumFeed = (props) => {\n  const {\n    forums,\n    forumFound,\n    gettingForums,\n    getForumsError,\n    forumSlug,\n    unpinnedThreads,\n    gettingUnpinnedThreads,\n    getUnpinnedThreadsError,\n    pinnedThreads,\n    gettingPinnedThreads,\n    getPinnedThreadsError,\n    setCurrentThread,\n    handleGetThreads,\n    sortingMethod,\n    setSortingMethod,\n  } = props;\n\n  let forumFeedBoxContent = null;\n  if (gettingForums) {\n    forumFeedBoxContent = (\n      <div className='forum-feed__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (getForumsError) {\n    forumFeedBoxContent = (\n      <div className='forum-feed__error'>{getForumsError}</div>\n    );\n  } else {\n    forumFeedBoxContent = (\n      <React.Fragment>\n        <FeedBox\n          title='Pinned'\n          threads={pinnedThreads}\n          gettingThreads={gettingPinnedThreads}\n          setCurrentThread={setCurrentThread}\n          error={getPinnedThreadsError}\n        />\n        <FeedBox\n          title='Threads'\n          threads={unpinnedThreads}\n          gettingThreads={gettingUnpinnedThreads}\n          error={getUnpinnedThreadsError}\n          setCurrentThread={setCurrentThread}\n          handleGetThreads={handleGetThreads}\n          sortingMethod={sortingMethod}\n          setSortingMethod={setSortingMethod}\n          sort\n        />\n      </React.Fragment>\n    );\n  }\n\n  let forumFeedContent = null;\n  if (!forumFound && forums) {\n    forumFeedContent = (\n      <div className='forum-feed__not-found'>Forum not found.</div>\n    );\n  } else {\n    forumFeedContent = (\n      <React.Fragment>\n        <div className='forum-feed__boxes'>{forumFeedBoxContent}</div>\n        <div className='forum-feed__new-thread'>\n          <Link to={`/${forumSlug}/new-thread`}>\n            <Button>New Thread</Button>\n          </Link>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  return <div className='forum-feed'>{forumFeedContent}</div>;\n};\n\nForumFeed.propTypes = {\n  forums: PropTypes.arrayOf(PropTypes.object),\n  forumFound: PropTypes.bool.isRequired,\n  gettingForums: PropTypes.bool.isRequired,\n  getForumsError: PropTypes.string,\n  forumSlug: PropTypes.string,\n  unpinnedThreads: PropTypes.arrayOf(PropTypes.object),\n  gettingUnpinnedThreads: PropTypes.bool.isRequired,\n  getUnpinnedThreadsError: PropTypes.string,\n  pinnedThreads: PropTypes.arrayOf(PropTypes.object),\n  gettingPinnedThreads: PropTypes.bool.isRequired,\n  getPinnedThreadsError: PropTypes.string,\n  setCurrentThread: PropTypes.func.isRequired,\n  handleGetThreads: PropTypes.func.isRequired,\n  sortingMethod: PropTypes.string.isRequired,\n  setSortingMethod: PropTypes.func.isRequired,\n};\n\nexport default ForumFeed;\n","import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { getUnpinnedThreads, getPinnedThreads } from '../store/feeds/actions';\nimport { setCurrentThread } from '../store/thread/actions';\nimport { useParams } from 'react-router';\nimport ForumFeed from '../components/ForumFeed/ForumFeed';\nimport find from 'lodash/find';\nimport PropTypes from 'prop-types';\n\n/* Container for a forum's feed of threads */\nconst ForumFeedContainer = (props) => {\n  const currentForumSlug = useParams().forumSlug;\n\n  const { forums, getUnpinnedThreads, getPinnedThreads } = props;\n\n  const [forumFound, setForumFound] = useState(false);\n  const [forumSlug, setForumSlug] = useState(null);\n  const [forumId, setForumId] = useState(null);\n  const [sortingMethod, setSortingMethod] = useState('date');\n\n  useEffect(() => {\n    let forumId = null;\n    //Only if able to get forums\n    if (forums) {\n      //If a forum slug exists\n      if (currentForumSlug) {\n        const forum = find(forums, { slug: currentForumSlug });\n        //If slug matches a forum, then set forum slug\n        if (forum) {\n          forumId = forum._id;\n          setForumSlug(forum.slug);\n        }\n      }\n      //Otherwise, default to first forum in array of forums\n      else if (forums.length > 0) {\n        forumId = forums[0]._id;\n        setForumSlug(forums[0].slug);\n      }\n\n      //If no matching forum id is found, then set forum not found\n      if (!forumId) {\n        setForumFound(false);\n      }\n      //If matching forum id is found, set state based on forumId\n      else {\n        setForumFound(true);\n        setForumId(forumId);\n        setSortingMethod('date');\n        getUnpinnedThreads(forumId);\n        getPinnedThreads(forumId);\n      }\n    }\n  }, [forums, currentForumSlug, getUnpinnedThreads, getPinnedThreads]);\n\n  const handleGetThreads = (sortingMethod) => {\n    getUnpinnedThreads(forumId, sortingMethod);\n  };\n\n  return (\n    <ForumFeed\n      {...props}\n      forums={forums}\n      forumFound={forumFound}\n      sortingMethod={sortingMethod}\n      forumSlug={forumSlug}\n      handleGetThreads={handleGetThreads}\n      setSortingMethod={setSortingMethod}\n    />\n  );\n};\n\nForumFeedContainer.propTypes = {\n  forums: PropTypes.array,\n  gettingForums: PropTypes.bool.isRequired,\n  getForumsError: PropTypes.string,\n\n  gettingUnpinnedThreads: PropTypes.bool.isRequired,\n  unpinnedThreads: PropTypes.array,\n  getUnpinnedThreadsError: PropTypes.string,\n\n  gettingPinnedThreads: PropTypes.bool.isRequired,\n  pinnedThreads: PropTypes.array,\n  getPinnedThreadsError: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  forums: state.feeds.forums,\n  gettingForums: state.feeds.gettingForums,\n  getForumsError: state.feeds.getForumsError,\n\n  gettingUnpinnedThreads: state.feeds.gettingUnpinnedThreads,\n  unpinnedThreads: state.feeds.unpinnedThreads,\n  getUnpinnedThreadsError: state.feeds.getUnpinnedThreadsError,\n\n  gettingPinnedThreads: state.feeds.gettingPinnedThreads,\n  pinnedThreads: state.feeds.pinnedThreads,\n  getPinnedThreadsError: state.feeds.getPinnedThreadsError,\n});\n\nexport default connect(mapStateToProps, {\n  getUnpinnedThreads,\n  getPinnedThreads,\n  setCurrentThread,\n})(ForumFeedContainer);\n","import React from 'react';\nimport './StyleButton.scss';\n\nconst StyleButton = (props) => {\n  const onToggle = (e) => {\n    e.preventDefault();\n    props.onToggle(props.style);\n  };\n\n  let className = 'style-button';\n  if (props.active) {\n    className += ' style-button--active';\n  }\n  return (\n    <span className={className} onMouseDown={onToggle}>\n      {props.label}\n    </span>\n  );\n};\n\nexport default StyleButton;\n","import React from 'react';\nimport StyleButton from './StyleButton/StyleButton';\n\nconst INLINE_STYLES = [\n  {\n    label: 'Bold',\n    style: 'BOLD',\n  },\n  {\n    label: 'Italic',\n    style: 'ITALIC',\n  },\n  {\n    label: 'Underline',\n    style: 'UNDERLINE',\n  },\n  {\n    label: 'Monospace',\n    style: 'MONOSPACE',\n  },\n];\n\nconst InlineStyleControls = (props) => {\n  var currentStyle = props.editorState.getCurrentInlineStyle();\n  return (\n    <div className='style-controls'>\n      {INLINE_STYLES.map((type) => (\n        <StyleButton\n          key={type.label}\n          active={currentStyle.has(type.style)}\n          label={type.label}\n          onToggle={props.onToggle}\n          style={type.style}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default InlineStyleControls;\n","import React from 'react';\nimport StyleButton from './StyleButton/StyleButton';\n\nconst BLOCK_TYPES = [\n  {\n    label: 'H1',\n    style: 'H1',\n  },\n  {\n    label: 'H2',\n    style: 'H2',\n  },\n  {\n    label: 'H3',\n    style: 'H3',\n  },\n  {\n    label: 'Blockquote',\n    style: 'BLOCKQUOTE',\n  },\n  {\n    label: 'Code Block',\n    style: 'CODE',\n  },\n];\n\nconst BlockStyleControls = (props) => {\n  const { editorState } = props;\n  const selection = editorState.getSelection();\n  const blockType = editorState\n    .getCurrentContent()\n    .getBlockForKey(selection.getStartKey())\n    .getType();\n  return (\n    <div className='style-controls'>\n      {BLOCK_TYPES.map((type) => (\n        <StyleButton\n          key={type.label}\n          active={type.style === blockType}\n          label={type.label}\n          onToggle={props.onToggle}\n          style={type.style}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default BlockStyleControls;\n","import React, { useState, useRef, useEffect } from 'react';\nimport {\n  EditorState,\n  RichUtils,\n  convertToRaw,\n  convertFromRaw,\n  getDefaultKeyBinding,\n  Modifier,\n} from 'draft-js';\nimport './RichTextEditor.scss';\nimport { Editor } from 'draft-js';\nimport InlineStyleControls from './InlineStyleControls';\nimport BlockStyleControls from './BlockStyleControls';\n\nexport const THREAD = 'NEW_THREAD';\nexport const REPLY = 'REPLY';\nconst RichEditor = (props) => {\n  const { type, readOnly, content } = props;\n\n  useEffect(() => {\n    let initialContent = null;\n    if (content) {\n      initialContent = EditorState.createWithContent(\n        convertFromRaw(JSON.parse(content))\n      );\n    } else {\n      initialContent = EditorState.createEmpty();\n    }\n    setEditorState(initialContent);\n  }, [content]);\n\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\n\n  const [contentHasChanged, setContentHasChanged] = useState(false);\n\n  const onChange = (newEditorState) => {\n    if (\n      editorState.getCurrentContent() !== newEditorState.getCurrentContent()\n    ) {\n      setContentHasChanged(true);\n    }\n    setEditorState(newEditorState);\n  };\n\n  const handleKeyCommand = (command) => {\n    const newState = RichUtils.handleKeyCommand(command);\n    if (newState) {\n      onChange(newState);\n    }\n  };\n\n  const toggleInlineStyle = (inlineStyle) => {\n    onChange(RichUtils.toggleInlineStyle(editorState, inlineStyle));\n  };\n\n  const toggleBlockType = (blockStyle) => {\n    onChange(RichUtils.toggleBlockType(editorState, blockStyle));\n  };\n\n  const editor = useRef(null);\n  const focus = () => {\n    editor.current.focus();\n  };\n\n  const saveContent = () => {\n    props.saveContent(\n      JSON.stringify(convertToRaw(editorState.getCurrentContent())),\n      contentHasChanged\n    );\n  };\n\n  let styleControls = null;\n  if (!readOnly) {\n    styleControls = (\n      <div className='rich-editor__style-controls'>\n        <InlineStyleControls\n          editorState={editorState}\n          onToggle={toggleInlineStyle}\n        />\n        <BlockStyleControls\n          editorState={editorState}\n          onToggle={toggleBlockType}\n        />\n      </div>\n    );\n  }\n\n  let classNames = ['rich-editor'];\n  let editorClassNames = ['rich-editor__editor'];\n  if (readOnly) {\n    classNames.push('rich-editor--read-only');\n    editorClassNames.push('rich-editor__editor--read-only');\n  }\n\n  let buttonContent = null;\n  if (!readOnly) {\n    let button = null;\n    if (type === THREAD) {\n      button = 'Post';\n      classNames.push('rich-editor--thread');\n    } else if (type === REPLY) {\n      button = 'Reply';\n      classNames.push('rich-editor--reply');\n    }\n    buttonContent = (\n      <button onClick={saveContent} className='rich-editor__reply'>\n        {button}\n      </button>\n    );\n  }\n\n  const styleMap = {\n    MONOSPACE: {\n      fontFamily: 'monospace',\n    },\n  };\n\n  const blockStyleFn = (contentBlock) => {\n    const type = contentBlock.getType();\n    switch (type) {\n      case 'BLOCKQUOTE':\n        return 'blockquote';\n      case 'CODE':\n        return 'code';\n      case 'H1':\n        return 'h1';\n      case 'H2':\n        return 'h2';\n      case 'H3':\n        return 'h3';\n      default:\n        return;\n    }\n  };\n\n  const keyBindingFn = (e) => {\n    if (e.keyCode === 9 /* tab */) {\n      const tabCharacter = '    ';\n      let currentState = editorState;\n      let newContentState = Modifier.replaceText(\n        currentState.getCurrentContent(),\n        currentState.getSelection(),\n        tabCharacter\n      );\n\n      onChange(\n        EditorState.push(currentState, newContentState, 'insert-characters')\n      );\n\n      return 'myeditor-tab';\n    }\n    return getDefaultKeyBinding(e);\n  };\n\n  return (\n    <div className={classNames.join(' ')}>\n      {styleControls}\n      <div className={editorClassNames.join(' ')} onClick={focus}>\n        <Editor\n          editorState={editorState}\n          customStyleMap={styleMap}\n          keyBindingFn={keyBindingFn}\n          blockStyleFn={blockStyleFn}\n          handleKeyCommand={handleKeyCommand}\n          onChange={onChange}\n          placeholder='Type here...'\n          ref={editor}\n          readOnly={readOnly}\n        />\n      </div>\n      {buttonContent}\n    </div>\n  );\n};\n\nexport default RichEditor;\n","import React from 'react';\nimport RichTextEditor from '../../RichTextEditor/RichTextEditor';\nimport { ClipLoader } from 'react-spinners';\nimport { REPLY } from '../../RichTextEditor/RichTextEditor';\nimport PropTypes from 'prop-types';\n\nconst ReplyEditor = (props) => {\n  const {\n    loadingUser,\n    creatingReply,\n    noReplyError,\n    user,\n    createReplyError,\n    replyContent,\n    handleSaveReplyContent,\n  } = props;\n\n  let editor = null;\n  if (loadingUser || creatingReply) {\n    editor = (\n      <div className='thread__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (!user) {\n    editor = <div className='thread__signin'>Please sign in to reply.</div>;\n  } else {\n    let error = null;\n    if (noReplyError) {\n      error = 'Please provide some content in your reply.';\n    } else if (createReplyError) {\n      error = createReplyError;\n    }\n    editor = (\n      <div className='thread__editor'>\n        <div className='thread__error'>{error}</div>\n        <RichTextEditor\n          type={REPLY}\n          content={replyContent}\n          saveContent={handleSaveReplyContent}\n        />\n      </div>\n    );\n  }\n\n  return editor;\n};\n\nReplyEditor.propTypes = {\n  loadingUser: PropTypes.bool.isRequired,\n  creatingReply: PropTypes.bool.isRequired,\n  noReplyError: PropTypes.bool,\n  user: PropTypes.object,\n  createReplyError: PropTypes.string,\n  replyContent: PropTypes.string,\n  handleSaveReplyContent: PropTypes.func.isRequired,\n};\n\nexport default ReplyEditor;\n","import React from 'react';\nimport './InitialPost.scss';\nimport Tag from '../../Tag/Tag';\nimport { FaUser, FaHeart, FaRegHeart, FaTrashAlt } from 'react-icons/fa';\nimport { AiFillPushpin, AiOutlinePushpin } from 'react-icons/ai';\nimport Moment from 'moment';\nimport RichTextEditor from '../../RichTextEditor/RichTextEditor';\nimport { ClipLoader } from 'react-spinners';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n/* Component to show the initial post that starts a thread */\nconst InitialPost = (props) => {\n  const {\n    thread,\n    user,\n    handleFavoriteThread,\n    handleUnfavoriteThread,\n    handleDeleteThread,\n    handleSetPinnedStatus,\n    deletingThread,\n    togglingFavorite,\n    togglingPin,\n  } = props;\n\n  let post = null;\n  if (!thread || deletingThread) {\n    post = (\n      <div className='post__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else {\n    let tags = null;\n    tags = thread.tags.map((tag) => {\n      return <Tag key={tag}>{tag}</Tag>;\n    });\n\n    let favorite = null;\n    if (user) {\n      if (togglingFavorite) {\n        favorite = <div className='post__action'>Toggling favorite...</div>;\n      } else if (thread.favorites.includes(user._id)) {\n        favorite = (\n          <div className='post__action' onClick={handleUnfavoriteThread}>\n            <FaHeart className='post__action-icon' />\n            <span>Unfavorite</span>\n          </div>\n        );\n      } else {\n        favorite = (\n          <div className='post__action' onClick={handleFavoriteThread}>\n            <FaRegHeart className='post__action-icon' />\n            <span>Favorite</span>\n          </div>\n        );\n      }\n    }\n\n    let deleteThreadContent = null;\n    if (user && (thread.user._id === user._id || user.role === 'admin')) {\n      deleteThreadContent = (\n        <div className='post__action' onClick={handleDeleteThread}>\n          <FaTrashAlt className='post__action-icon' />\n          <span>Delete</span>\n        </div>\n      );\n    }\n\n    let pinThreadContent = null;\n    if (user && user.role === 'admin') {\n      let pinAction = null;\n      if (togglingPin) {\n        pinAction = 'Toggling pin...';\n      } else if (thread.pinned) {\n        pinAction = (\n          <React.Fragment>\n            <AiFillPushpin className='post__pin' />\n            <span>Unpin</span>\n          </React.Fragment>\n        );\n      } else {\n        pinAction = (\n          <React.Fragment>\n            <AiOutlinePushpin className='post__pin' />\n            <span>Pin</span>\n          </React.Fragment>\n        );\n      }\n      pinThreadContent = (\n        <div\n          className='post__action'\n          onClick={() => handleSetPinnedStatus(!thread.pinned)}\n        >\n          {pinAction}\n        </div>\n      );\n    }\n\n    post = (\n      <React.Fragment>\n        <div className='post__top'>\n          <Link\n            className='post__userinfo link'\n            to={`/user/${thread.user.username}`}\n          >\n            <FaUser className='post__usericon' />\n            <div className='post__username'>{thread.user.username}</div>\n          </Link>\n          <div className='post__age'>{Moment(thread.createdAt).fromNow()}</div>\n        </div>\n        <div className='post__title'>{thread.title}</div>\n        <div className='post__content'>\n          <RichTextEditor readOnly content={thread.content} />\n        </div>\n        <div className='post__bottom'>\n          <div className='post__tags'>{tags}</div>\n          <div className='post__actions'>\n            {pinThreadContent}\n            {favorite}\n            {deleteThreadContent}\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  return <div className='post'>{post}</div>;\n};\n\nInitialPost.propTypes = {\n  thread: PropTypes.object,\n  user: PropTypes.object,\n  handleFavoriteThread: PropTypes.func.isRequired,\n  handleUnfavoriteThread: PropTypes.func.isRequired,\n  handleDeleteThread: PropTypes.func.isRequired,\n  handleSetPinnedStatus: PropTypes.func.isRequired,\n  deletingThread: PropTypes.bool.isRequired,\n  togglingFavorite: PropTypes.bool.isRequired,\n  togglingPin: PropTypes.bool.isRequired,\n};\n\nexport default withRouter(InitialPost);\n","import React from 'react';\nimport './Reply.scss';\nimport { FaUser } from 'react-icons/fa';\nimport Moment from 'moment';\nimport RichTextEditor from '../../RichTextEditor/RichTextEditor';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport { ClipLoader } from 'react-spinners';\nimport PropTypes from 'prop-types';\n\nconst Reply = (props) => {\n  const {\n    user,\n    reply,\n    handleDeleteReply,\n    deletingReplyId,\n    deleteReplyError,\n  } = props;\n\n  let deleteReply = null;\n  if (user && (user._id === reply.user._id || user.role === 'admin')) {\n    deleteReply = (\n      <div\n        className='reply__delete'\n        onClick={() => handleDeleteReply(reply._id)}\n      >\n        <FaTrashAlt className='post__action-icon' />\n        <span>Delete</span>\n      </div>\n    );\n  }\n\n  let replyContent = null;\n  if (deletingReplyId === reply._id && !deleteReplyError) {\n    replyContent = (\n      <div className='reply__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else {\n    replyContent = <RichTextEditor readOnly content={reply.content} />;\n  }\n\n  return (\n    <div className='reply'>\n      <div className='reply__top'>\n        <div className='reply__userinfo'>\n          <FaUser className='reply__usericon' />\n          <div className='reply__username'>{reply.user.username}</div>\n        </div>\n        <div className='reply__top-right'>\n          <div className='reply__age'> {Moment(reply.createdAt).fromNow()}</div>\n          {deleteReply}\n        </div>\n      </div>\n      <div className='reply__content'>{replyContent} </div>\n    </div>\n  );\n};\n\nReply.propTypes = {\n  user: PropTypes.object,\n  reply: PropTypes.object,\n  handleDeleteReply: PropTypes.func.isRequired,\n  deletingReplyId: PropTypes.string,\n  deleteReplyError: PropTypes.string,\n};\n\nexport default Reply;\n","import React from 'react';\nimport { ClipLoader } from 'react-spinners';\nimport Reply from '../Reply/Reply';\nimport PropTypes from 'prop-types';\n\nconst Replies = (props) => {\n  const {\n    gettingReplies,\n    replies,\n    deleteReplyError,\n    deletingReplyId,\n    user,\n    handleDeleteReply,\n  } = props;\n\n  let repliesContent = null;\n  if (gettingReplies) {\n    repliesContent = (\n      <div className='thread__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (replies) {\n    repliesContent = (\n      <div className='thread__replies'>\n        {replies.map((reply) => {\n          let replyError = null;\n          if (deleteReplyError && deletingReplyId === reply._id) {\n            replyError = (\n              <div className='thread__error'>{deleteReplyError}</div>\n            );\n          }\n          return (\n            <React.Fragment key={reply._id}>\n              {replyError}\n              <Reply\n                reply={reply}\n                user={user}\n                handleDeleteReply={handleDeleteReply}\n                deletingReplyId={deletingReplyId}\n                deleteReplyError={deleteReplyError}\n              />\n            </React.Fragment>\n          );\n        })}\n      </div>\n    );\n  }\n\n  return repliesContent;\n};\n\nReplies.propTypes = {\n  gettingReplies: PropTypes.bool.isRequired,\n  replies: PropTypes.array,\n  deleteReplyError: PropTypes.string,\n  deletingReplyId: PropTypes.string,\n  user: PropTypes.object,\n  handleDeleteReply: PropTypes.func.isRequired,\n};\n\nexport default Replies;\n","import React from 'react';\nimport './Thread.scss';\nimport ReplyEditor from './ReplyEditor/ReplyEditor';\nimport InitialPost from './InitialPost/InitialPost';\nimport Replies from './Replies/Replies';\nimport { ClipLoader } from 'react-spinners';\nimport PropTypes from 'prop-types';\n\n/* Component for single thread, editor for new reply, and all replies for thread */\nconst Thread = (props) => {\n  let threadContent = null;\n  if (props.gettingThread || props.deletingThread) {\n    threadContent = (\n      <div className='thread__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (props.getThreadError) {\n    threadContent = (\n      <div className='thread__not-found'>{props.getThreadError}</div>\n    );\n  } else {\n    let error = null;\n    if (\n      props.toggleFavoriteError ||\n      props.togglePinError ||\n      props.deleteThreadError\n    ) {\n      error = (\n        <div className='thread__error'>\n          {props.toggleFavoriteError ||\n            props.togglePinError ||\n            props.deleteThreadError}\n        </div>\n      );\n    }\n    threadContent = (\n      <React.Fragment>\n        <InitialPost\n          thread={props.thread}\n          user={props.user}\n          togglingFavorite={props.togglingFavorite}\n          togglingPin={props.togglingPin}\n          handleFavoriteThread={props.handleFavoriteThread}\n          handleUnfavoriteThread={props.handleUnfavoriteThread}\n          handleDeleteThread={props.handleDeleteThread}\n          handleSetPinnedStatus={props.handleSetPinnedStatus}\n          deletingThread={props.deletingThread}\n        />\n        {error}\n        <ReplyEditor\n          noReplyError={props.noReplyError}\n          creatingReply={props.creatingReply}\n          user={props.user}\n          loadingUser={props.loadingUser}\n          createReplyError={props.createReplyError}\n          replyContent={props.replyContent}\n          handleSaveReplyContent={props.handleSaveReplyContent}\n        />\n        <Replies\n          user={props.user}\n          replies={props.replies}\n          gettingReplies={props.gettingReplies}\n          deletingReplyId={props.deletingReplyId}\n          deleteReplyError={props.deleteReplyError}\n          handleDeleteReply={props.handleDeleteReply}\n        />\n      </React.Fragment>\n    );\n  }\n\n  return <div className='thread'>{threadContent}</div>;\n};\n\nThread.propTypes = {\n  thread: PropTypes.object,\n  user: PropTypes.object,\n  togglingFavorite: PropTypes.bool.isRequired,\n  togglingPin: PropTypes.bool.isRequired,\n  handleFavoriteThread: PropTypes.func.isRequired,\n  handleUnfavoriteThread: PropTypes.func.isRequired,\n  handleDeleteThread: PropTypes.func.isRequired,\n  handleSetPinnedStatus: PropTypes.func.isRequired,\n  gettingThread: PropTypes.bool.isRequired,\n  getThreadError: PropTypes.string,\n  deletingThread: PropTypes.bool.isRequired,\n  deleteThreadError: PropTypes.string,\n  noReplyError: PropTypes.bool,\n  creatingReply: PropTypes.bool.isRequired,\n  createReplyError: PropTypes.string,\n  replyContent: PropTypes.string,\n  handleSaveReplyContent: PropTypes.func.isRequired,\n  replies: PropTypes.arrayOf(PropTypes.object),\n  gettingReplies: PropTypes.bool.isRequired,\n  deletingReplyId: PropTypes.string,\n  deleteReplyError: PropTypes.string,\n  handleDeleteReply: PropTypes.func.isRequired,\n};\n\nexport default Thread;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { useParams } from 'react-router';\nimport Thread from '../components/Thread/Thread';\nimport { connect } from 'react-redux';\nimport {\n  createReply,\n  deleteReply,\n  deleteThread,\n  getReplies,\n  getThread,\n  favoriteThread,\n  unfavoriteThread,\n  setThreadPinnedStatus,\n  resetThreadErrors,\n} from '../store/thread/actions';\nimport find from 'lodash/find';\n\n/* Container for thread, with initial post, new reply editor and list of replies */\nconst ThreadContainer = (props) => {\n  const { forumSlug, threadSlug } = useParams();\n  const {\n    forums,\n    getThread,\n    getReplies,\n    thread,\n    createReply,\n    user,\n    favoriteThread,\n    unfavoriteThread,\n    deleteThread,\n    deletingReply,\n    deleteReply,\n    setThreadPinnedStatus,\n    resetThreadErrors,\n  } = props;\n\n  const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  };\n\n  const previousThread = usePrevious(thread);\n\n  useEffect(() => {\n    //If current thread is not set, get it using the slug\n    if (!thread) {\n      getThread(threadSlug);\n    }\n    //If incoming thread's id is new, then get replies\n    else if (!previousThread || thread._id !== previousThread._id) {\n      getReplies(thread._id);\n    }\n\n    //Clean up all error state for thread\n    return () => {\n      resetThreadErrors();\n    };\n  }, [\n    getThread,\n    getReplies,\n    thread,\n    previousThread,\n    threadSlug,\n    deletingReply,\n    resetThreadErrors,\n  ]);\n\n  const [noReplyError, setNoReplyError] = useState(null);\n  const handleSaveReplyContent = (content, contentHasChanged) => {\n    if (!contentHasChanged) {\n      setNoReplyError(true);\n    } else {\n      setNoReplyError(false);\n      const forum = find(forums, { slug: forumSlug });\n      createReply(forum._id, user._id, thread._id, content);\n    }\n  };\n\n  const handleUnfavoriteThread = () => {\n    unfavoriteThread(user._id, thread._id);\n  };\n\n  const handleFavoriteThread = () => {\n    favoriteThread(user._id, thread._id);\n  };\n\n  const handleSetPinnedStatus = (pinnedStatus) => {\n    setThreadPinnedStatus(thread._id, pinnedStatus);\n  };\n\n  const handleDeleteThread = () => {\n    deleteThread(forumSlug, thread._id);\n  };\n\n  const handleDeleteReply = (replyId) => {\n    deleteReply(thread._id, replyId);\n  };\n\n  return (\n    <Thread\n      {...props}\n      forumSlug={forumSlug}\n      noReplyError={noReplyError}\n      handleSaveReplyContent={handleSaveReplyContent}\n      handleFavoriteThread={handleFavoriteThread}\n      handleUnfavoriteThread={handleUnfavoriteThread}\n      handleDeleteThread={handleDeleteThread}\n      handleDeleteReply={handleDeleteReply}\n      handleSetPinnedStatus={handleSetPinnedStatus}\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  forums: state.feeds.forums,\n  replies: state.thread.replies,\n  gettingReplies: state.thread.gettingReplies,\n  creatingReply: state.thread.creatingReply,\n  createReplyError: state.thread.createReplyError,\n  thread: state.thread.currentThread,\n  gettingThread: state.thread.gettingThread,\n  getThreadError: state.thread.getThreadError,\n  deletingThread: state.thread.deletingThread,\n  deleteThreadError: state.thread.deleteThreadError,\n  deletingReplyId: state.thread.deletingReplyId,\n  deleteReplyError: state.thread.deleteReplyError,\n  togglingFavorite: state.thread.togglingFavorite,\n  toggleFavoriteError: state.thread.toggleFavoriteError,\n  togglingPin: state.thread.togglingPin,\n  togglePinError: state.thread.togglePinError,\n  user: state.auth.user,\n  loadingUser: state.auth.loadingUser,\n});\n\nexport default connect(mapStateToProps, {\n  getReplies,\n  getThread,\n  createReply,\n  favoriteThread,\n  unfavoriteThread,\n  deleteThread,\n  deleteReply,\n  setThreadPinnedStatus,\n  resetThreadErrors,\n})(React.memo(ThreadContainer));\n","import React from 'react';\nimport './Input.scss';\nimport PropTypes from 'prop-types';\n\n/* Standard input element to be included in forms */\nconst Input = (props) => {\n  let inputElement = null;\n  const inputClasses = ['input__element'];\n  let validationError = null;\n  if (props.invalid && props.shouldValidate && props.formSubmitted) {\n    inputClasses.push('input__invalid');\n    validationError = (\n      <p className='input__error-message'>{props.errorMessage}</p>\n    );\n  }\n\n  switch (props.elementType) {\n    case 'input':\n      inputElement = (\n        <input\n          className={inputClasses.join(' ')}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.onChange}\n        />\n      );\n      break;\n    case 'textarea':\n      inputElement = (\n        <textarea\n          className={inputClasses.join(' ')}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.onChange}\n        />\n      );\n      break;\n    default:\n      inputElement = (\n        <input\n          className={inputClasses.join(' ')}\n          {...props.elementConfig}\n          value={props.value}\n          onChange={props.onChange}\n        />\n      );\n  }\n  return (\n    <div className='input'>\n      <label>{props.label}</label>\n      {inputElement}\n      {validationError}\n    </div>\n  );\n};\n\nInput.propTypes = {\n  invalid: PropTypes.bool.isRequired,\n  shouldValidate: PropTypes.object.isRequired,\n  touched: PropTypes.bool,\n  formSubmitted: PropTypes.bool.isRequired,\n  value: PropTypes.string.isRequired,\n  elementConfig: PropTypes.object.isRequired,\n  errorMessage: PropTypes.string,\n  label: PropTypes.string,\n  elementType: PropTypes.string.isRequired,\n};\n\nexport default Input;\n","/* Form validation helper functions */\n\nconst formatPhoneNumber = (digits) => {\n  const cleaned = digits.replace(/\\D/g, '');\n  const match = cleaned.match(/^(\\d{3})(\\d{3})(\\d{4})$/);\n  if (match) {\n    return `( ${match[1]} ) ${match[2]} - ${match[3]}`;\n  }\n  return digits;\n};\n\nexport const handleInputChange = (form, event, inputId) => {\n  const updatedForm = {\n    ...form,\n  };\n\n  const updatedFormElement = {\n    ...updatedForm[inputId],\n  };\n\n  let trimmedValue = event.target.value.trim();\n\n  if (updatedFormElement.elementType === 'phonenumber') {\n    updatedFormElement.value = formatPhoneNumber(trimmedValue);\n  } else {\n    updatedFormElement.value = trimmedValue;\n  }\n  updatedFormElement.valid = checkValidity(\n    updatedFormElement.value,\n    updatedFormElement.validation\n  );\n  updatedFormElement.touched = true;\n  updatedForm[inputId] = updatedFormElement;\n\n  let formIsValid = true;\n  for (let inputId in updatedForm) {\n    formIsValid = updatedForm[inputId].valid && formIsValid;\n  }\n  return { form: updatedForm, formIsValid: formIsValid };\n};\n\nconst checkValidity = (value, rules) => {\n  let isValid = true;\n\n  if (!rules) {\n    return true;\n  }\n\n  if (rules.required) {\n    isValid = value.trim() !== '' && isValid;\n  }\n\n  if (rules.minLength) {\n    isValid = value.length >= rules.minLength && isValid;\n  }\n\n  if (rules.maxLength) {\n    isValid = value.length <= rules.maxLength && isValid;\n  }\n\n  if (rules.isEmail) {\n    const pattern = /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  if (rules.isName) {\n    const pattern = /^[a-zA-Z]*$/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  if (rules.isUsername) {\n    const pattern = /^[a-zA-Z0-9]+$/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  if (rules.isNumeric) {\n    const pattern = /^\\d*$/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  if (rules.isPhoneNumber) {\n    const pattern = /^(\\([0-9]{3}\\) |[0-9]{3}-)[0-9]{3}-[0-9]{4}$/;\n    isValid = pattern.test(value) && isValid;\n  }\n\n  return isValid;\n};\n","import React from 'react';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\nimport { handleInputChange } from '../../../utils/formValidation.js';\nimport PropTypes from 'prop-types';\n\n/* Standard form component across entire app */\nconst Form = (props) => {\n  const handleChange = (event, inputId) => {\n    const updatedFormData = handleInputChange(props.form, event, inputId);\n    props.updateForm({\n      form: updatedFormData.form,\n      formIsValid: updatedFormData.formIsValid,\n    });\n  };\n\n  const formElementsArray = [];\n  for (let key in props.form) {\n    formElementsArray.push({\n      id: key,\n      config: props.form[key],\n    });\n  }\n\n  let form = null;\n  form = (\n    <React.Fragment>\n      {formElementsArray.map((formElement) => {\n        return (\n          <Input\n            key={formElement.id}\n            elementType={formElement.config.elementType}\n            elementConfig={formElement.config.elementConfig}\n            value={formElement.config.value}\n            shouldValidate={formElement.config.validation}\n            invalid={!formElement.config.valid}\n            touched={formElement.config.touched}\n            formSubmitted={props.formSubmitted}\n            errorMessage={formElement.config.errorMessage}\n            onChange={(e) => handleChange(e, formElement.id)}\n          />\n        );\n      })}\n      <div className='form__submit'>\n        <Button disabled={props.formSubmitted && !props.formIsValid}>\n          Submit\n        </Button>\n      </div>\n    </React.Fragment>\n  );\n\n  return (\n    <form className='form' onSubmit={props.onSubmit}>\n      {form}\n    </form>\n  );\n};\n\nForm.propTypes = {\n  form: PropTypes.object.isRequired,\n  formSubmitted: PropTypes.bool.isRequired,\n  formIsValid: PropTypes.bool.isRequired,\n};\n\nexport default Form;\n","import React from 'react';\nimport './SignIn.scss';\nimport Button from '../../Theme/Button/Button';\nimport { ClipLoader } from 'react-spinners';\nimport { Redirect } from 'react-router-dom';\nimport Form from '../../Theme/Form/Form';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\n/* Sign in form */\nconst SignIn = (props) => {\n  let form = (\n    <React.Fragment>\n      <Form\n        {...props}\n        onSubmit={props.handleSubmit}\n        updateForm={props.updateForm}\n      />\n      <h2 className='form-component__title'>Don't have an account?</h2>\n      <div className='signup'>\n        <Link to='/signup'>\n          <Button>Sign Up</Button>\n        </Link>\n      </div>\n    </React.Fragment>\n  );\n  if (props.loadingUser) {\n    form = (\n      <div className='spinner'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  }\n\n  let errorMessage = null;\n  let error = null;\n  if (props.error) {\n    if (props.error.status === 500) {\n      error = 'Internal server error.';\n    } else {\n      error = props.error.data.error;\n    }\n    errorMessage = <div className='form-component__error'>{error}</div>;\n  }\n\n  let redirect = null;\n  if (props.isAuthenticated) {\n    redirect = <Redirect to='/' />;\n  }\n\n  return (\n    <div className='form-container'>\n      <div className='form-component'>\n        <h2 className='form-component__title'>\n          Please sign in to your account\n        </h2>\n        {redirect}\n        {errorMessage}\n        {form}\n      </div>\n    </div>\n  );\n};\n\nSignIn.propTypes = {\n  loadingUser: PropTypes.bool.isRequired,\n  error: PropTypes.object,\n  isAuthenticated: PropTypes.object,\n};\n\nexport default SignIn;\n","import React, { Component } from 'react';\nimport { signIn, authReset } from '../store/auth/actions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport SignIn from '../components/Forms/SignIn/SignIn';\n\n/* Sign in form container */\nclass SignInContainer extends Component {\n  state = {\n    form: {\n      username: {\n        elementType: 'input',\n        elementConfig: {\n          placeholder: 'Username',\n        },\n        value: '',\n        errorMessage:\n          'Username has to be at least 6 characters long and can only contain numbers and letters',\n        validation: {\n          required: true,\n          isUsername: true,\n          minLength: 6,\n        },\n        valid: false,\n      },\n      password: {\n        elementType: 'input',\n        elementConfig: {\n          type: 'password',\n          placeholder: 'Password',\n        },\n        value: '',\n        errorMessage: 'Password has to be at least 6 characters long',\n        validation: {\n          required: true,\n          minLength: 6,\n        },\n        valid: false,\n      },\n    },\n    formIsValid: false,\n    formSubmitted: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ formSubmitted: true });\n    if (this.state.formIsValid) {\n      this.props.signIn(\n        this.state.form.username.value,\n        this.state.form.password.value\n      );\n    }\n  };\n\n  updateForm = (stateUpdate) => {\n    this.setState(stateUpdate);\n  };\n\n  componentWillUnmount() {\n    if (this.props.error) {\n      this.props.authReset();\n    }\n  }\n\n  render() {\n    return (\n      <SignIn\n        {...this.state}\n        {...this.props}\n        handleSubmit={this.handleSubmit}\n        updateForm={this.updateForm}\n      />\n    );\n  }\n}\n\nSignInContainer.propTypes = {\n  loadingUser: PropTypes.bool,\n  error: PropTypes.object,\n  isAuthenticated: PropTypes.object,\n};\n\nconst mapStateToProps = (state) => ({\n  loadingUser: state.auth.loadingUser,\n  error: state.auth.signInError,\n  isAuthenticated: state.auth.user,\n});\n\nexport default connect(mapStateToProps, { signIn, authReset })(SignInContainer);\n","import React from 'react';\nimport { ClipLoader } from 'react-spinners';\nimport { Redirect } from 'react-router-dom';\nimport Form from '../../Theme/Form/Form';\nimport PropTypes from 'prop-types';\n\n/* User sign up form */\nconst SignUp = (props) => {\n  let form = (\n    <Form\n      {...props}\n      onSubmit={props.handleSubmit}\n      updateForm={props.updateForm}\n    />\n  );\n  if (props.loadingUser) {\n    form = (\n      <div className='spinner'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  }\n\n  let errorMessage = null;\n  let error = null;\n  if (props.error) {\n    if (props.error.status === 500) {\n      error = 'Internal server error.';\n    } else if (props.error.data.error === 'Duplicate field value entered') {\n      error = 'The email you entered is already taken.';\n    } else {\n      error = props.error.data.error;\n    }\n    errorMessage = <div className='form-component__error'>{error}</div>;\n  }\n\n  let redirect = null;\n  if (props.isAuthenticated) {\n    if (props.location.fromCheckout) {\n      redirect = (\n        <Redirect\n          to={{ pathname: '/checkout/order-type', fromSignUp: 'true' }}\n        />\n      );\n    } else {\n      redirect = <Redirect to={{ pathname: '/', fromSignUp: 'true' }} />;\n    }\n  }\n\n  return (\n    <div className='form-container'>\n      <div className='form-component'>\n        <h2 className='form-component__title'>Sign up for an account</h2>\n        {redirect}\n        {errorMessage}\n        {form}\n      </div>\n    </div>\n  );\n};\n\nSignUp.propTypes = {\n  loadingUser: PropTypes.bool.isRequired,\n  error: PropTypes.object,\n  isAuthenticated: PropTypes.object,\n};\n\nexport default SignUp;\n","import React, { Component } from 'react';\nimport { signUp, authReset } from '../store/auth/actions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport SignUp from '../components/Forms/SignUp/SignUp';\n\n/* User sign up form container */\nclass SignUpContainer extends Component {\n  state = {\n    form: {\n      firstName: {\n        elementType: 'input',\n        elementConfig: {\n          placeholder: 'First Name',\n        },\n        value: '',\n        errorMessage: 'Please enter a valid first name',\n        validation: {\n          required: true,\n          isName: true,\n          minLength: 2,\n          maxLength: 50,\n        },\n        valid: false,\n      },\n      lastName: {\n        elementType: 'input',\n        elementConfig: {\n          placeholder: 'Last Name',\n        },\n        value: '',\n        errorMessage: 'Please enter a valid last name',\n        validation: {\n          required: true,\n          isName: true,\n          minLength: 2,\n          maxLength: 50,\n        },\n        valid: false,\n      },\n      email: {\n        elementType: 'input',\n        elementConfig: {\n          placeholder: 'Email',\n        },\n        value: '',\n        errorMessage: 'Please enter a valid email address',\n        validation: {\n          required: true,\n          isEmail: true,\n        },\n        valid: false,\n      },\n      username: {\n        elementType: 'input',\n        elementConfig: {\n          placeholder: 'Username',\n        },\n        value: '',\n        errorMessage:\n          'Username has to be at least 6 characters long and can only contain numbers and letters',\n        validation: {\n          required: true,\n          isUsername: true,\n          minLength: 6,\n        },\n        valid: false,\n      },\n      password: {\n        elementType: 'input',\n        elementConfig: {\n          type: 'password',\n          placeholder: 'Password',\n        },\n        value: '',\n        errorMessage: 'Password has to be at least 6 characters long',\n        validation: {\n          required: true,\n          minLength: 6,\n        },\n        valid: false,\n      },\n    },\n    formIsValid: false,\n    formSubmitted: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ formSubmitted: true });\n    if (this.state.formIsValid) {\n      this.props.signUp(\n        this.state.form.firstName.value,\n        this.state.form.lastName.value,\n        this.state.form.email.value,\n        this.state.form.username.value,\n        this.state.form.password.value\n      );\n    }\n  };\n\n  updateForm = (stateUpdate) => {\n    this.setState(stateUpdate);\n  };\n\n  componentWillUnmount() {\n    this.props.authReset();\n  }\n\n  render() {\n    return (\n      <SignUp\n        {...this.state}\n        {...this.props}\n        handleSubmit={this.handleSubmit}\n        updateForm={this.updateForm}\n      />\n    );\n  }\n}\n\nSignUpContainer.propTypes = {\n  loadingUser: PropTypes.bool,\n  error: PropTypes.object,\n  isAuthenticated: PropTypes.object,\n};\n\nconst mapStateToProps = (state) => ({\n  loadingUser: state.auth.loadingUser,\n  error: state.auth.signUpError,\n  isAuthenticated: state.auth.user,\n});\n\nexport default connect(mapStateToProps, { signUp, authReset })(SignUpContainer);\n","import React, { useRef } from 'react';\nimport './AddTags.scss';\nimport { FaPlusCircle } from 'react-icons/fa';\nimport Tag from '../../Tag/Tag';\nimport {\n  EMPTY_TAG,\n  DUPLICATE_TAG,\n  INCORRECT_FORMAT_TAG,\n} from '../../../containers/NewThreadContainer';\nimport PropTypes from 'prop-types';\n\n/* Component for validating and adding tags */\nconst AddTags = (props) => {\n  const { submitTag, deleteTag, tags, setError } = props;\n  const inputRef = useRef(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const incomingTag = inputRef.current.value;\n    if (incomingTag.length === 0) {\n      setError(EMPTY_TAG);\n      return;\n    } else if (tags.includes(incomingTag)) {\n      setError(DUPLICATE_TAG);\n      return;\n    } else if (!/^([a-z0-9]){3,20}$/i.test(incomingTag)) {\n      setError(INCORRECT_FORMAT_TAG);\n      return;\n    } else {\n      submitTag(incomingTag);\n      setError(null);\n      inputRef.current.value = '';\n    }\n  };\n  let tagsContent = null;\n  tagsContent = tags.map((tag, index) => {\n    return (\n      <Tag key={tag} delete={() => deleteTag(index)}>\n        {tag}\n      </Tag>\n    );\n  });\n\n  return (\n    <div className='add-tags'>\n      <form className='add-tags__form' onSubmit={handleSubmit}>\n        <label className='add-tags__label' htmlFor='tag'>\n          Tags:\n        </label>\n        <div className='add-tags__tags'>{tagsContent}</div>\n        <input\n          ref={inputRef}\n          className='add-tags__input'\n          id='tag'\n          type='text'\n          placeholder='Tag Name...'\n        />\n        <FaPlusCircle className='add-tags__add' onClick={handleSubmit} />\n      </form>\n    </div>\n  );\n};\n\nAddTags.propTypes = {\n  setError: PropTypes.func.isRequired,\n  tags: PropTypes.array.isRequired,\n  submitTag: PropTypes.func.isRequired,\n  deleteTag: PropTypes.func.isRequired,\n};\n\nexport default AddTags;\n","import React from 'react';\nimport './NewThread.scss';\nimport AddTags from './AddTags/AddTags';\nimport RichTextEditor, { THREAD } from '../RichTextEditor/RichTextEditor';\nimport { ClipLoader } from 'react-spinners';\nimport {\n  TITLE_TOO_SHORT,\n  NO_CONTENT,\n  DUPLICATE_TAG,\n  NO_TAGS,\n  EMPTY_TAG,\n  INCORRECT_FORMAT_TAG,\n} from '../../containers/NewThreadContainer';\nimport PropTypes from 'prop-types';\n\n/* Component to create new thread */\nconst NewThread = (props) => {\n  const {\n    user,\n    loadingUser,\n    creatingThread,\n    title,\n    handleSetTitle,\n    error,\n    createThreadError,\n    setError,\n    handleSavePostContent,\n    tags,\n    submitTag,\n    deleteTag,\n  } = props;\n\n  let tagsError = null;\n  switch (error) {\n    case NO_TAGS:\n      tagsError = 'Please provide some tags.';\n      break;\n    case EMPTY_TAG:\n      tagsError = 'Cannot add an empty tag.';\n      break;\n    case DUPLICATE_TAG:\n      tagsError = 'Tag already added.';\n      break;\n    case INCORRECT_FORMAT_TAG:\n      tagsError =\n        'Tag can only contain letters and numbers. Spaces and special characters are not allowed. Min 3 chars and max 20 characters.';\n      break;\n    default:\n  }\n\n  let newThread = null;\n  if (loadingUser || creatingThread) {\n    newThread = (\n      <div className='new-thread__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else if (!user) {\n    newThread = (\n      <div className='new-thread__signin'>\n        Please sign in to start a new thread.\n      </div>\n    );\n  } else {\n    newThread = (\n      <React.Fragment>\n        <div className='new-thread__top'>\n          <input\n            className='new-thread__title'\n            type='text'\n            placeholder='Thread Title...'\n            value={title}\n            onChange={handleSetTitle}\n          />\n          <div className='new-thread__error'>\n            {error === TITLE_TOO_SHORT\n              ? 'Title has to be at least 3 chars long'\n              : null}\n          </div>\n          <div className='new-thread__tags'>\n            <AddTags\n              setError={setError}\n              tags={tags}\n              submitTag={submitTag}\n              deleteTag={deleteTag}\n            />\n            <div className='new-thread__error'>{tagsError}</div>\n          </div>\n        </div>\n        <div className='new-thread__editor'>\n          <div className='new-thread__error'>\n            {error === NO_CONTENT\n              ? 'Please provide some content.'\n              : createThreadError\n              ? createThreadError\n              : null}\n          </div>\n          <RichTextEditor type={THREAD} saveContent={handleSavePostContent} />\n        </div>\n      </React.Fragment>\n    );\n  }\n\n  return <div className='new-thread'>{newThread}</div>;\n};\n\nNewThread.propTypes = {\n  user: PropTypes.object,\n  loadingUser: PropTypes.bool.isRequired,\n  creatingThread: PropTypes.bool.isRequired,\n  title: PropTypes.string.isRequired,\n  handleSetTitle: PropTypes.func.isRequired,\n  error: PropTypes.string,\n  createThreadError: PropTypes.string,\n  setError: PropTypes.func.isRequired,\n  handleSavePostContent: PropTypes.func.isRequired,\n  tags: PropTypes.array.isRequired,\n  submitTag: PropTypes.func.isRequired,\n  deleteTag: PropTypes.func.isRequired,\n};\n\nexport default NewThread;\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { createThread, resetCreateThreadError } from '../store/thread/actions';\nimport find from 'lodash/find';\nimport { useParams } from 'react-router-dom';\nimport NewThread from '../components/NewThread/NewThread';\nimport PropTypes from 'prop-types';\n\nexport const TITLE_TOO_SHORT = 'TITLE_TOO_SHORT';\nexport const NO_CONTENT = 'NO_CONTENT';\nexport const NO_TAGS = 'NO_TAGS';\nexport const EMPTY_TAG = 'EMPTY_TAG';\nexport const DUPLICATE_TAG = 'DUPLICATE_TAG';\nexport const INCORRECT_FORMAT_TAG = 'INCORRECT_FORMAT_TAG';\n\n/* Container for creating a new thread */\nconst NewThreadContainer = (props) => {\n  const [tags, setTags] = useState([]);\n\n  const [error, setError] = useState(null);\n\n  const { forumSlug } = useParams();\n\n  const [title, setTitle] = useState('');\n\n  const handleSetTitle = (e) => {\n    setTitle(e.target.value);\n  };\n\n  const submitTag = (tag) => {\n    setTags((prevTags) => [...prevTags, tag]);\n  };\n\n  const deleteTag = (index) => {\n    setTags((prevTags) => {\n      const newTags = [...prevTags];\n      newTags.splice(index, 1);\n      return newTags;\n    });\n  };\n\n  const handleSavePostContent = (content, contentHasChanged) => {\n    if (title.length < 3) {\n      setError(TITLE_TOO_SHORT);\n      return;\n    } else if (tags.length === 0) {\n      setError(NO_TAGS);\n      return;\n    } else if (!contentHasChanged) {\n      setError(NO_CONTENT);\n      return;\n    }\n\n    setError(null);\n    const forum = find(props.forums, { slug: forumSlug });\n    props.createThread(forum, props.user._id, title, content, tags);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (props.createThreadError) {\n        props.resetCreateThreadError();\n      }\n    };\n  });\n  return (\n    <NewThread\n      {...props}\n      error={error}\n      setError={setError}\n      tags={tags}\n      title={title}\n      handleSetTitle={handleSetTitle}\n      handleSavePostContent={handleSavePostContent}\n      deleteTag={deleteTag}\n      submitTag={submitTag}\n    />\n  );\n};\n\nNewThreadContainer.propTypes = {\n  forums: PropTypes.array,\n  user: PropTypes.object,\n  loadingUser: PropTypes.bool.isRequired,\n  creatingThread: PropTypes.bool.isRequired,\n  createThreadError: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  forums: state.feeds.forums,\n  user: state.auth.user,\n  loadingUser: state.auth.loadingUser,\n  creatingThread: state.thread.creatingThread,\n  createThreadError: state.thread.createThreadError,\n});\n\nexport default connect(mapStateToProps, {\n  createThread,\n  resetCreateThreadError,\n})(NewThreadContainer);\n","import React from 'react';\nimport './UserProfile.scss';\nimport FeedBox from '../ForumFeed/FeedBox/FeedBox';\nimport { FaUser } from 'react-icons/fa';\nimport { ClipLoader } from 'react-spinners';\nimport PropTypes from 'prop-types';\n\nconst UserProfile = (props) => {\n  const {\n    userThreads,\n    gettingUserThreads,\n    getUserThreadsError,\n    userProfile,\n    gettingUserProfile,\n    getUserProfileError,\n    setCurrentThread,\n  } = props;\n\n  let userProfileContent = null;\n  if (getUserProfileError) {\n    userProfileContent = (\n      <div className='user-profile__error'>{getUserProfileError}</div>\n    );\n  } else if (gettingUserProfile || !userProfile) {\n    userProfileContent = (\n      <div className='user-profile__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  } else {\n    userProfileContent = (\n      <div className='user-profile__top'>\n        <FaUser className='user-profile__usericon' />\n        <div className='user-profile__userinfo'>\n          <div className='user-profile__username'>\n            <span className='user-profile__label'>Username: </span>\n            <span>{userProfile.username}</span>\n          </div>\n          <div className='user-profile__name'>\n            <span className='user-profile__label'>Name: </span>\n            <span>\n              {userProfile.firstName} {userProfile.lastName}\n            </span>\n          </div>\n          <div className='user-profile__email'>\n            <span className='user-profile__label'>Email: </span>\n            <span>{userProfile.email}</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className='user-profile'>\n      {userProfileContent}\n      <FeedBox\n        title='Threads'\n        threads={userThreads}\n        gettingThreads={gettingUserThreads}\n        setCurrentThread={setCurrentThread}\n        error={getUserThreadsError}\n        hideUser\n      />\n    </div>\n  );\n};\n\nUserProfile.propTypes = {\n  userThreads: PropTypes.array,\n  gettingUserThreads: PropTypes.bool.isRequired,\n  getUserThreadsError: PropTypes.string,\n  userProfile: PropTypes.object,\n  gettingUserProfile: PropTypes.bool.isRequired,\n  getUserProfileError: PropTypes.string,\n  setCurrentThread: PropTypes.func.isRequired,\n};\n\nexport default UserProfile;\n","import React, { useEffect } from 'react';\nimport { getUserThreads, getUserProfile } from '../store/feeds/actions';\nimport { setCurrentThread } from '../store/thread/actions';\nimport { connect } from 'react-redux';\nimport { useParams } from 'react-router';\nimport UserProfile from '../components/UserProfile/UserProfile';\nimport PropTypes from 'prop-types';\n\n/* Container for user profile and user's threads */\nconst UserProfileContainer = (props) => {\n  const { username } = useParams();\n  const { getUserThreads, getUserProfile } = props;\n\n  useEffect(() => {\n    getUserProfile(username);\n    getUserThreads(username);\n  }, [username, getUserThreads, getUserProfile]);\n\n  return <UserProfile {...props} />;\n};\n\nUserProfileContainer.propTypes = {\n  userThreads: PropTypes.array,\n  gettingUserThreads: PropTypes.bool.isRequired,\n  getUserThreadsError: PropTypes.string,\n  userProfile: PropTypes.object,\n  gettingUserProfile: PropTypes.bool.isRequired,\n  getUserProfileError: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  userThreads: state.feeds.userThreads,\n  gettingUserThreads: state.feeds.gettingUserThreads,\n  getUserThreadsError: state.feeds.getUserThreadsError,\n  userProfile: state.feeds.userProfile,\n  gettingUserProfile: state.feeds.gettingUserProfile,\n  getUserProfileError: state.feeds.getUserProfileError,\n});\n\nexport default connect(mapStateToProps, {\n  setCurrentThread,\n  getUserThreads,\n  getUserProfile,\n})(UserProfileContainer);\n","import React from 'react';\nimport './CreateForum.scss';\nimport { ClipLoader } from 'react-spinners';\nimport Form from '../../Theme/Form/Form';\nimport PropTypes from 'prop-types';\n\n/* Small form for creating a forum */\nconst CreateForum = (props) => {\n  let form = (\n    <Form\n      {...props}\n      onSubmit={props.handleSubmit}\n      updateForm={props.updateForm}\n    />\n  );\n  if (props.creatingForum) {\n    form = (\n      <div className='create-forum__loading'>\n        <ClipLoader size={50} />\n      </div>\n    );\n  }\n\n  let errorMessage = null;\n  if (props.error) {\n    errorMessage = <div className='create-forum__error'>{props.error}</div>;\n  }\n\n  return (\n    <div className='create-forum'>\n      <h2 className='create-forum__title'>Create a forum</h2>\n      <div className='form-component'>\n        {errorMessage}\n        {form}\n      </div>\n    </div>\n  );\n};\n\nCreateForum.propTypes = {\n  creatingForum: PropTypes.bool.isRequired,\n  createdForum: PropTypes.bool.isRequired,\n  error: PropTypes.string,\n};\n\nexport default CreateForum;\n","import React, { Component } from 'react';\nimport { createForum, resetCreateForum } from '../store/feeds/actions';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport CreateForum from '../components/Forms/CreateForum/CreateForum';\n\n/* Create forum form container*/\nclass CreateForumContainer extends Component {\n  initialForm = {\n    forumName: {\n      elementType: 'input',\n      elementConfig: {\n        placeholder: 'Forum Name',\n      },\n      value: '',\n      errorMessage:\n        'Forum name can only contain letters. Min 4 chars and max 15 chars.',\n      validation: {\n        required: true,\n        isName: true,\n        minLength: 4,\n        maxLength: 15,\n      },\n      valid: false,\n    },\n  };\n\n  state = {\n    form: this.initialForm,\n    formIsValid: false,\n    formSubmitted: false,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    this.setState({ formSubmitted: true });\n    if (this.state.formIsValid) {\n      this.props.createForum(this.state.form.forumName.value);\n    }\n  };\n\n  componentDidUpdate() {\n    if (this.props.createdForum) {\n      this.setState({\n        form: this.initialForm,\n        formSubmitted: false,\n        formIsValid: false,\n      });\n    }\n    this.props.resetCreateForum();\n  }\n\n  updateForm = (stateUpdate) => {\n    this.setState(stateUpdate);\n  };\n\n  render() {\n    return (\n      <CreateForum\n        {...this.state}\n        {...this.props}\n        handleSubmit={this.handleSubmit}\n        updateForm={this.updateForm}\n      />\n    );\n  }\n}\n\nCreateForumContainer.propTypes = {\n  error: PropTypes.string,\n  createdForum: PropTypes.bool.isRequired,\n  creatingForum: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  error: state.feeds.createForumError,\n  createdForum: state.feeds.createdForum,\n  creatingForum: state.feeds.creatingForum,\n});\n\nexport default connect(mapStateToProps, { createForum, resetCreateForum })(\n  CreateForumContainer\n);\n","import React from 'react';\nimport './AdminDashboard.scss';\nimport { FaTrashAlt } from 'react-icons/fa';\nimport CreateForumContainer from '../../containers/CreateForumContainer';\nimport PropTypes from 'prop-types';\n\n/* Admin dashboard component for deleting and creating forums */\nconst AdminDashboard = (props) => {\n  const { user, forums, deleteForum, deletingForumId } = props;\n\n  let dashboardContent = null;\n  if (user && user.role === 'admin') {\n    dashboardContent = (\n      <React.Fragment>\n        <div className='dashboard__forums'>\n          <div className='dashboard__title'>\n            <h2>Forums</h2>\n          </div>\n          {forums &&\n            forums.map((forum) => {\n              let deleteForumContent = null;\n              if (deletingForumId === forum._id) {\n                deleteForumContent = (\n                  <span className='dashboard__delete'>Deleting...</span>\n                );\n              } else {\n                deleteForumContent = (\n                  <div\n                    className='dashboard__delete'\n                    onClick={() => deleteForum(forum._id)}\n                  >\n                    <FaTrashAlt className='dashboard__delete-icon' />\n                    <span>Delete</span>\n                  </div>\n                );\n              }\n              return (\n                <div key={forum.name} className='dashboard__forum'>\n                  <div className='dashboard__forum-name'>{forum.name}</div>\n                  {deleteForumContent}\n                </div>\n              );\n            })}\n        </div>\n        <CreateForumContainer />\n      </React.Fragment>\n    );\n  } else {\n    dashboardContent = (\n      <div className='dashboard__privileges'>\n        You do not have sufficient privileges to view this page.\n      </div>\n    );\n  }\n  return <div className='dashboard'>{dashboardContent}</div>;\n};\n\nAdminDashboard.propTypes = {\n  forums: PropTypes.arrayOf(PropTypes.object),\n  deletingForumId: PropTypes.string,\n  deleteForum: PropTypes.func.isRequired,\n};\n\nexport default AdminDashboard;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport AdminDashboard from '../components/AdminDashboard/AdminDashboard';\nimport { deleteForum } from '../store/feeds/actions';\nimport PropTypes from 'prop-types';\n\n/* Container for admin's dashboard for creating/deleting forums */\nconst AdminDashboardContainer = (props) => {\n  return <AdminDashboard {...props} />;\n};\n\nAdminDashboardContainer.propTypes = {\n  user: PropTypes.object,\n  forums: PropTypes.array,\n  deletingForumId: PropTypes.string,\n  createForumError: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  user: state.auth.user,\n  forums: state.feeds.forums,\n  deletingForumId: state.feeds.deletingForumId,\n  createForumError: state.feeds.createForumError,\n});\n\nexport default connect(mapStateToProps, { deleteForum })(\n  AdminDashboardContainer\n);\n","import React, { useEffect } from 'react';\nimport LayoutContainer from './containers/LayoutContainer';\nimport ForumFeedContainer from './containers/ForumFeedContainer';\nimport ThreadContainer from './containers/ThreadContainer';\nimport { Switch, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { authenticateToken } from './store/auth/actions';\nimport { getAllForums } from './store/feeds/actions';\nimport SignInContainer from './containers/SignInContainer';\nimport SignUpContainer from './containers/SignUpContainer';\nimport NewThreadContainer from './containers/NewThreadContainer';\nimport UserProfileContainer from './containers/UserProfileContainer';\nimport AdminDashboardContainer from './containers/AdminDashboardContainer';\n\nfunction App(props) {\n  const { authenticateToken, getAllForums } = props;\n  useEffect(() => {\n    authenticateToken();\n    getAllForums();\n  }, [authenticateToken, getAllForums]);\n\n  return (\n    <LayoutContainer>\n      <Switch>\n        <Route exact path='/signin' component={SignInContainer} />\n        <Route exact path='/signup' component={SignUpContainer} />\n        <Route exact path='/admin' component={AdminDashboardContainer} />\n        <Route exact path='/' component={ForumFeedContainer} />\n        <Route exact path='/:forumSlug' component={ForumFeedContainer} />\n        <Route exact path='/user/:username' component={UserProfileContainer} />\n        <Route\n          exact\n          path='/:forumSlug/thread/:threadSlug'\n          component={ThreadContainer}\n        />\n        <Route\n          exact\n          path='/:forumSlug/new-thread'\n          component={NewThreadContainer}\n        />\n      </Switch>\n    </LayoutContainer>\n  );\n}\n\nexport default connect(null, { getAllForums, authenticateToken })(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import * as actionTypes from './actionTypes';\n\nexport const initialState = {\n  token: null,\n  user: null,\n  signInError: null,\n  signUpError: null,\n  loadingUser: false,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    //Set loading to true and reset error\n    case actionTypes.AUTH_START:\n      return {\n        ...state,\n        signInError: null,\n        signUpError: null,\n        loadingUser: true,\n      };\n    case actionTypes.AUTH_TOKEN_FAILED:\n      return {\n        ...state,\n        loadingUser: false,\n      };\n    //Reset auth errors\n    case actionTypes.AUTH_RESET:\n      return {\n        ...state,\n        signInError: null,\n        signUpError: null,\n      };\n    //Successfully authenticated\n    case actionTypes.AUTH_SUCCESS:\n      return {\n        ...state,\n        loadingUser: false,\n        user: action.user,\n        signInError: null,\n      };\n    //Set error and reset loading when sign in failed\n    case actionTypes.SIGN_IN_FAILED:\n      return {\n        ...state,\n        loadingUser: false,\n        signInError: action.error,\n      };\n    //Set error and reset loading when sign up failed\n    case actionTypes.SIGN_UP_FAILED:\n      return {\n        ...state,\n        loadingUser: false,\n        signUpError: action.error,\n      };\n    //Reset user data on signout\n    case actionTypes.AUTH_SIGNOUT:\n      return {\n        ...state,\n        user: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from './actionTypes';\n\nconst initialState = {\n  forums: null,\n  gettingForums: true,\n  getForumsError: null,\n\n  creatingForum: false,\n  createForumError: null,\n  createdForum: false,\n  deletingForumId: null,\n  deleteForumError: null,\n\n  gettingUnpinnedThreads: false,\n  unpinnedThreads: null,\n  getUnpinnedThreadsError: null,\n\n  gettingPinnedThreads: false,\n  pinnedThreads: null,\n  getPinnedThreadsError: null,\n\n  gettingUserProfile: false,\n  userProfile: null,\n  getUserProfileError: null,\n\n  gettingUserThreads: false,\n  userThreads: null,\n  getUserThreadsError: null,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.CREATE_FORUM_START:\n      return {\n        ...state,\n        creatingForum: true,\n        createForumError: null,\n      };\n    case actionTypes.CREATE_FORUM_SUCCESS:\n      return {\n        ...state,\n        creatingForum: false,\n        createdForum: true,\n        forums: action.forums,\n      };\n    case actionTypes.CREATE_FORUM_FAILED:\n      return {\n        ...state,\n        creatingForum: false,\n        createForumError: action.error,\n      };\n    case actionTypes.CREATE_FORUM_RESET:\n      return {\n        ...state,\n        createdForum: false,\n      };\n\n    case actionTypes.DELETE_FORUM_START:\n      return {\n        ...state,\n        deletingForumId: action.deletingForumId,\n        deleteForumError: null,\n      };\n    case actionTypes.DELETE_FORUM_SUCCESS:\n      let forums = state.forums.filter(\n        (forum) => forum._id !== action.deletedForumId\n      );\n      return {\n        ...state,\n        deletingForumId: null,\n        forums: forums,\n      };\n    case actionTypes.DELETE_FORUM_FAILED:\n      return {\n        ...state,\n        deletingForumId: null,\n        deleteForumError: action.error,\n      };\n\n    case actionTypes.GET_ALL_FORUMS_START:\n      return {\n        ...state,\n        getForumsError: null,\n        gettingForums: true,\n      };\n    case actionTypes.GET_ALL_FORUMS_SUCCESS:\n      return {\n        ...state,\n        forums: action.forums,\n        gettingForums: false,\n      };\n    case actionTypes.GET_ALL_FORUMS_FAILED:\n      return {\n        ...state,\n        gettingForums: false,\n        getForumsError: action.error,\n      };\n\n    case actionTypes.GET_UNPINNED_THREADS_START:\n      return {\n        ...state,\n        gettingUnpinnedThreads: true,\n        unpinnedThreads: null,\n      };\n    case actionTypes.GET_UNPINNED_THREADS_SUCCESS:\n      return {\n        ...state,\n        gettingUnpinnedThreads: false,\n        unpinnedThreads: action.unpinnedThreads,\n      };\n    case actionTypes.GET_UNPINNED_THREADS_FAILED:\n      return {\n        ...state,\n        gettingUnpinnedThreads: false,\n        getUnpinnedThreadsError: action.error,\n      };\n\n    case actionTypes.GET_PINNED_THREADS_START:\n      return {\n        ...state,\n        gettingPinnedThreads: true,\n        pinnedThreads: null,\n      };\n    case actionTypes.GET_PINNED_THREADS_SUCCESS:\n      return {\n        ...state,\n        gettingPinnedThreads: false,\n        pinnedThreads: action.pinnedThreads,\n      };\n    case actionTypes.GET_PINNED_THREADS_FAILED:\n      return {\n        ...state,\n        gettingPinnedThreads: false,\n        getPinnedThreadsError: action.error,\n      };\n\n    case actionTypes.GET_USER_THREADS_START:\n      return {\n        ...state,\n        gettingUserThreads: true,\n        userThreads: null,\n      };\n    case actionTypes.GET_USER_THREADS_SUCCESS:\n      return {\n        ...state,\n        gettingUserThreads: false,\n        userThreads: action.userThreads,\n      };\n    case actionTypes.GET_USER_THREADS_FAILED:\n      return {\n        ...state,\n        gettingUserThreads: false,\n        getUserThreadsError: action.error,\n      };\n\n    case actionTypes.GET_USER_PROFILE_START:\n      return {\n        ...state,\n        gettingUserProfile: true,\n        getUserProfileError: null,\n      };\n    case actionTypes.GET_USER_PROFILE_SUCCESS:\n      return {\n        ...state,\n        gettingUserProfile: false,\n        userProfile: action.userProfile,\n      };\n    case actionTypes.GET_USER_PROFILE_FAILED:\n      return {\n        ...state,\n        gettingUserProfile: false,\n        getUserProfileError: action.error,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import * as actionTypes from './actionTypes';\n\nconst initialState = {\n  currentThread: null,\n\n  creatingThread: false,\n  createThreadError: null,\n\n  gettingThread: false,\n  getThreadError: null,\n  doneGettingThread: false,\n\n  deletingThread: false,\n  deleteThreadError: null,\n\n  replies: null,\n  creatingReply: false,\n  createReplyError: null,\n\n  deletingReplyId: null,\n  deleteReply: null,\n\n  gettingReplies: false,\n  getRepliesError: null,\n\n  togglingPin: false,\n  togglePinError: null,\n\n  togglingFavorite: false,\n  toggleFavoriteError: null,\n};\n\nconst reducer = (state = initialState, action) => {\n  let replies = null;\n  switch (action.type) {\n    case actionTypes.CREATE_THREAD_START:\n      return {\n        ...state,\n        creatingThread: true,\n        currentThread: null,\n        createThreadError: null,\n      };\n    case actionTypes.CREATE_THREAD_SUCCESS:\n      return {\n        ...state,\n        creatingThread: false,\n        currentThread: action.currentThread,\n      };\n    case actionTypes.CREATE_THREAD_FAILED:\n      return {\n        ...state,\n        creatingThread: false,\n        createThreadError: action.error,\n      };\n    case actionTypes.CREATE_THREAD_RESET:\n      return {\n        ...state,\n        createThreadError: null,\n      };\n\n    case actionTypes.GET_THREAD_START:\n      return {\n        ...state,\n        gettingThread: true,\n        doneGettingThread: false,\n        currentThread: null,\n        getThreadError: null,\n      };\n    case actionTypes.GET_THREAD_SUCCESS:\n      return {\n        ...state,\n        gettingThread: false,\n        currentThread: action.currentThread,\n      };\n    case actionTypes.GET_THREAD_FAILED:\n      return {\n        ...state,\n        gettingThread: false,\n        currentThread: null,\n        getThreadError: action.error,\n      };\n\n    case actionTypes.DELETE_THREAD_START:\n      return {\n        ...state,\n        deletingThread: true,\n        deleteThreadError: null,\n      };\n    case actionTypes.DELETE_THREAD_SUCCESS:\n      return {\n        ...state,\n        deletingThread: false,\n      };\n    case actionTypes.DELETE_THREAD_FAILED:\n      return {\n        ...state,\n        deletingThread: false,\n        deleteThreadError: action.error,\n      };\n\n    case actionTypes.CREATE_REPLY_START:\n      return {\n        ...state,\n        creatingReply: true,\n        createReplyError: null,\n      };\n    case actionTypes.CREATE_REPLY_SUCCESS:\n      replies = state.replies || [];\n      return {\n        ...state,\n        creatingReply: false,\n        replies: [action.reply, ...replies],\n      };\n    case actionTypes.CREATE_REPLY_FAILED:\n      return {\n        ...state,\n        creatingReply: false,\n        createReplyError: action.error,\n      };\n\n    case actionTypes.GET_REPLIES_START:\n      return {\n        ...state,\n        gettingReplies: true,\n        replies: null,\n        getRepliesError: null,\n      };\n    case actionTypes.GET_REPLIES_SUCCESS:\n      return {\n        ...state,\n        gettingReplies: false,\n        replies: action.replies,\n      };\n    case actionTypes.GET_REPLIES_FAILED:\n      return {\n        ...state,\n        gettingReplies: false,\n        getRepliesError: action.error,\n      };\n\n    case actionTypes.DELETE_REPLY_START:\n      return {\n        ...state,\n        deletingReplyId: action.deletingReplyId,\n        deleteReplyError: null,\n      };\n    case actionTypes.DELETE_REPLY_SUCCESS:\n      replies = state.replies.filter(\n        (reply) => reply._id !== action.deletedReplyId\n      );\n      return {\n        ...state,\n        replies: replies,\n        deletingReplyId: null,\n      };\n    case actionTypes.DELETE_REPLY_FAILED:\n      return {\n        ...state,\n        deleteReplyError: action.error,\n      };\n\n    case actionTypes.SET_CURRENT_THREAD:\n      return {\n        ...state,\n        currentThread: action.currentThread,\n      };\n\n    case actionTypes.SET_THREAD_FAVORITES_START:\n      return {\n        ...state,\n        togglingFavorite: true,\n        toggleFavoriteError: null,\n      };\n    case actionTypes.SET_THREAD_FAVORITES_SUCCESS:\n      return {\n        ...state,\n        currentThread: {\n          ...state.currentThread,\n          favorites: action.favorites,\n        },\n        togglingFavorite: false,\n      };\n    case actionTypes.SET_THREAD_FAVORITES_FAILED:\n      return {\n        ...state,\n        togglingFavorite: false,\n        toggleFavoriteError: action.error,\n      };\n\n    case actionTypes.SET_PINNED_STATUS_START:\n      return {\n        ...state,\n        togglingPin: true,\n        togglePinError: null,\n      };\n    case actionTypes.SET_PINNED_STATUS_SUCCESS:\n      return {\n        ...state,\n        togglingPin: false,\n        currentThread: action.currentThread,\n      };\n    case actionTypes.SET_PINNED_STATUS_FAILED:\n      return {\n        ...state,\n        togglingPin: false,\n        togglePinError: action.error,\n      };\n\n    case actionTypes.THREAD_ERRORS_RESET:\n      return {\n        ...state,\n        deleteReplyError: null,\n        setPinnedStatusError: null,\n        setFavoritesError: null,\n        deletingReplyId: null,\n        createReplyError: null,\n        togglePinError: null,\n        toggleFavoriteError: null,\n        deleteThreadError: null,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport authReducer from './auth/reducer';\nimport feedsReducer from './feeds/reducer';\nimport threadReducer from './thread/reducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  feeds: feedsReducer,\n  thread: threadReducer,\n});\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport rootReducer from './rootReducer';\nimport thunk from 'redux-thunk';\n\nexport const middleware = [thunk];\n\nconst initialState = {};\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeEnhancers(applyMiddleware(...middleware))\n);\n\nexport default store;\n","import { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\n\n/* Scroll to top of page when it is loaded */\nconst ScrollToTop = ({ history, children }) => {\n  useEffect(() => {\n    history.listen(() => {\n      window.scrollTo(0, 0);\n    });\n  }, [history]);\n  return children;\n};\n\nexport default withRouter(ScrollToTop);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './sass/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport ScrollToTop from './hoc/ScrollToTop';\nimport { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory({\n  basename: `${process.env.REACT_APP_BASE_URL}`,\n});\n\nReactDOM.render(\n  <Router history={history}>\n    <Provider store={store}>\n      <ScrollToTop>\n        <App />\n      </ScrollToTop>\n    </Provider>\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}